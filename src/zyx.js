/*! For license information please see zyX-es6.js.LICENSE.txt */
var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}t.r(e),t.d(e,{click:()=>Bi,clickOne:()=>Fi,clickOrTwo:()=>Xi,hrefDoubleClick:()=>Yi,pointerDownMoveUp:()=>zi,rightClick:()=>Di,wheel:()=>Ui});var o="zyx-ph";function i(t){return"<".concat(o," id='").concat(t,"'></").concat(o,">")}function a(t){var e=t.match(/id='(.*?)'/);return(null==e?void 0:e.length)>0?e[1]:null}function u(t){var e=document.createElement("div");return e.innerHTML=t.trim(),Array.from(e.children)}function s(t,e){e.parentNode.insertBefore(t,e.nextSibling)}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}new RegExp("(".concat(i("\\d+"),")"),"g");var h=function(){return function(t,e){return e&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.reactive=e,this.interp=n,this.mode=r||"text",this.activeDomNode=null},[{key:"interprate",value:function(){return this.interp?this.interp(this.reactive.value):this.reactive.value}},{key:"createZyXHTMLReactiveNode",value:function(t,e,n){var r,o,i=this;if(n)r=function(){var t=i.interprate();e.setAttribute(n,t),"INPUT"===e.tagName&&(e.value=t,e.dispatchEvent(new Event("change")))},o=e,setTimeout(function(){return r()},0);else{if("text"===this.mode){var a=document.createTextNode("");e.replaceWith(a),o=a,r=function(){var t=i.interprate();a.textContent=t}}else"html"===this.mode&&(this.activeDomNode=e,o=e.parentElement,r=function(){var t=tn(i.interprate());t?(i.activeDomNode.replaceWith(t),i.activeDomNode=t):i.activeDomNode.style.display="none"});r()}this.reactive.eventListeners?this.reactive.eventListeners.subscribe(r,o):this.reactive.subscribe(r,o)}}])}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(){var t=w(),e=t.m(y),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,v(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(y=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new S(t,e)},AsyncIterator:g,async:function(t,e,n,o,a){return(r(e)?b:m)(i(t),e,n,o,a)},keys:d,values:v}})()}function v(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(p(t)+" is not iterable")}function d(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function m(t,e,n,r,o){var i=b(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function b(t,e,n,r,o){return new g(w().w(t,e,n,r),o||Promise)}function g(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof S?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(k(g.prototype),k(g.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),k(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function w(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return k(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(k(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,k(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,k(f,"constructor",c),k(c,"constructor",s),s.displayName="GeneratorFunction",k(c,o,"GeneratorFunction"),k(f),k(f,o,"Generator"),k(f,r,function(){return this}),k(f,"toString",function(){return"[object Generator]"}),(w=function(){return{w:i,m:h}})()}function k(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}k=function(t,e,n,r){function i(e,n){k(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},k(t,e,n,r)}function S(t,e){this.v=t,this.k=e}function O(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=E(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function x(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function j(t){return function(t){if(Array.isArray(t))return P(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||E(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){if(t){if("string"==typeof t)return P(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T(){return j(document.querySelectorAll("[zyx-shadowroot-processed]")).map(function(t){return t.shadow}).filter(Boolean)}function A(t){T().forEach(t)}function _(){A(function(t){t.getSelection&&t.getSelection().removeAllRanges()}),document.getSelection&&document.getSelection().removeAllRanges()}function M(t){var e=[];return A(function(n){e.push.apply(e,j(n.querySelectorAll(t)))}),e.push.apply(e,j(document.querySelectorAll(t))),e}var C=Object.fromEntries(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout","mouseenter","contextmenu","mouseleave","keydown","keypress","keyup","focus","blur","submit","load","error","input","change","scroll","resize","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","dropzone","dropzoneenter","dropzoneleave","dropzoneover","dropzoneout","dropzoneenter","dropzoneleave"].map(function(t){return["zyx-".concat(t),function(e){var n=e.node,r=e.data,o=e.zyxhtml;try{n.addEventListener(t,function(t){var e=new Proxy(t,{get:function(e,r){return"el"===r?n:"e"===r||"event"===r?t:r in o?o[r]:void 0}});return r(e)})}catch(e){console.error("Error adding event listener for [zyx-".concat(t,"]:"),{e,node:n,data:r,zyxhtml:o})}}]}));function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||N(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=N(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function N(t,e){if(t){if("string"==typeof t)return R(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B(r.key),r)}}function B(t){var e=function(t){if("object"!=D(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==D(e)?e:e+""}function X(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function z(t,e,n){return t.set(Y(t,e),n),n}function U(t,e){return t.get(Y(t,e))}function Y(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}C["zyx-enter"]=function(t){var e=t.node,n=t.data,r=t.zyxhtml;e.addEventListener("keydown",function(t){"Enter"===t.key&&n(new Proxy(t,{get:function(e,n){return"e"===n||"event"===n?t:n in r?r[n]:void 0}}))})};var q=new WeakMap,W=new WeakMap,G=new WeakMap,V=function(){return function(t,e){return e&&F(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),X(this,W,[]),X(this,G,null),q.set(e,this)},[{key:"addCondition",value:function(t,e){var n=this;U(W,this).push({element:t,condition:e}),t.style.display="none",e.reactive&&"object"===D(e.reactive)&&"subscribe"in e.reactive&&e.reactive.subscribe(function(){return n.evaluateConditions()},t),this.evaluateConditions()}},{key:"evaluateConditions",value:function(){var t=!1,e=null;U(G,this)&&(U(G,this).style.display="none",z(G,this,null));var n,r=L(U(W,this));try{for(r.s();!(n=r.n()).done;)n.value.element.style.display="none"}catch(t){r.e(t)}finally{r.f()}var o,i=L(U(W,this));try{for(i.s();!(o=i.n()).done;){var a=o.value,u=a.element,s=a.condition;if(s.isElse)e=u;else{var c=s.reactive.value;(s.predicate?s.predicate(c):c)&&!t&&(u.style.display="",z(G,this,u),t=!0)}}}catch(t){i.e(t)}finally{i.f()}!t&&e&&(e.style.display="",z(G,this,e))}}])}();function H(t){var e=q.get(t);return e||(e=new V(t)),e}function $(t){var e=function(t){for(var e=t.previousElementSibling;e;){if(e.hasAttribute("zyx-if"))return e;e=e.previousElementSibling}return null}(t);return e?H(e):(console.warn("zyx-elif or zyx-else found without a preceding zyx-if:",t),null)}var K={"zyx-if":function(t){var e=t.node,n=t.data,r=(t.zyxhtml,H(e)),o=I(Array.isArray(n)?n:[n,null],2),i=o[0],a=o[1];r.addCondition(e,{reactive:i,predicate:a})},"zyx-elif":function(t){var e=t.node,n=t.data,r=(t.zyxhtml,$(e));if(r){var o=I(Array.isArray(n)?n:[n,null],2),i=o[0],a=o[1];r.addCondition(e,{reactive:i,predicate:a})}},"zyx-else":function(t){var e=t.node,n=(t.data,t.zyxhtml,$(e));n&&n.addCondition(e,{isElse:!0})}};function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function J(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Q(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tt(t,e,n){return e=at(e),function(t,e){if(e&&("object"==Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ot()?Reflect.construct(e,n||[],at(t).constructor):e.apply(t,n))}function et(){return et="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=at(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},et.apply(null,arguments)}function nt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&it(t,e)}function rt(t){var e="function"==typeof Map?new Map:void 0;return rt=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(ot())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&it(o,n.prototype),o}(t,arguments,at(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),it(n,t)},rt(t)}function ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ot=function(){return!!t})()}function it(t,e){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},it(t,e)}function at(t){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},at(t)}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function st(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lt(r.key),r)}}function ct(t,e,n){return e&&st(t.prototype,e),n&&st(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lt(t){var e=function(t){if("object"!=Z(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Z(e)?e:e+""}new WeakMap;var ft=function(){function t(){return ut(this,t),tt(this,t,arguments)}return nt(t,rt(Set)),ct(t,[{key:"add",value:function(e){if(null==e)throw new TypeError("Cannot add null or undefined to WeakRefSet");this.has(e)||et(at(t.prototype),"add",this).call(this,new WeakRef(e))}},{key:"forEach",value:function(t){if("function"!=typeof t)throw new TypeError("Callback must be a function");var e,n=J(this.get());try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(t){n.e(t)}finally{n.f()}}},{key:"delete",value:function(e){if(null==e)return!1;var n,r=J(et(at(t.prototype),"values",this).call(this));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.deref()===e)return et(at(t.prototype),"delete",this).call(this,o)}}catch(t){r.e(t)}finally{r.f()}return!1}},{key:"singleize",value:function(e){if(null==e)throw new TypeError("Cannot singleize with null or undefined reference");var n,r=J(et(at(t.prototype),"values",this).call(this));try{for(r.s();!(n=r.n()).done;){var o=n.value;o.deref()!==e&&et(at(t.prototype),"delete",this).call(this,o)}}catch(t){r.e(t)}finally{r.f()}}},{key:"get",value:function(){var e,n=[],r=J(et(at(t.prototype),"values",this).call(this));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.deref();void 0===i?et(at(t.prototype),"delete",this).call(this,o):n.push(i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"size",get:function(){return this.get().length}}])}(),ht=function(){function t(e){var n;if(ut(this,t),"number"!=typeof e||e<0)throw new TypeError("Limit must be a non-negative number");return(n=tt(this,t)).limit=e,n}return nt(t,rt(Array)),ct(t,[{key:"prepend",value:function(t){return this.length>=this.limit&&this.pop(),this.unshift(t),this}},{key:"append",value:function(t){return this.length>=this.limit&&this.shift(),this.push(t),this}},{key:"popleft",value:function(){if(0===this.length)throw new Error("Deque is empty");return this.shift()}},{key:"popright",value:function(){if(0===this.length)throw new Error("Deque is empty");return this.pop()}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isFull",value:function(){return this.length>=this.limit}}])}();function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function yt(t){return function(t){if(Array.isArray(t))return vt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return vt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gt(r.key),r)}}function bt(t,e,n){return e&&mt(t.prototype,e),n&&mt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gt(t){var e=function(t){if("object"!=pt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==pt(e)?e:e+""}function wt(t,e,n){return e=Pt(e),function(t,e){if(e&&("object"==pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}(t,jt()?Reflect.construct(e,n||[],Pt(t).constructor):e.apply(t,n))}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(){return St="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Pt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},St.apply(null,arguments)}function Ot(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Et(t,e)}function xt(t){var e="function"==typeof Map?new Map:void 0;return xt=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(jt())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&Et(o,n.prototype),o}(t,arguments,Pt(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Et(n,t)},xt(t)}function jt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(jt=function(){return!!t})()}function Et(t,e){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Et(t,e)}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}function Tt(t,e){return t.get(At(t,e))}function At(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var _t=new WeakMap,Mt=function(){function t(e){var n;return dt(this,t),function(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}(kt(n=e instanceof Array?wt(this,t,yt(e)):wt(this,t)),_t,void 0),function(t,e,n){t.set(At(t,e),n)}(_t,kt(n),new Nt),kt(n)}return Ot(t,xt(Array)),bt(t,[{key:"fill",value:function(e,n){for(var r=0;r<e;r++)St(Pt(t.prototype),"push",this).call(this,n(r));return this.callListeners("fill"),this}},{key:"interp",value:function(t){return new h(this,t)}},{key:"contentInterp",value:function(t){return new h(this,t,"html")}},{key:"value",get:function(){return this}},{key:"subscribe",value:function(t,e){Tt(_t,this).subscribe(t,e)}},{key:"removeListener",value:function(t){Tt(_t,this).unsubscribe(t)}},{key:"callListeners",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(e=Tt(_t,this)).notifySubscribers.apply(e,[this,t].concat(r)),this}},{key:"push",value:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=St(Pt(t.prototype),"push",this)).call.apply(e,[this].concat(r)),this.callListeners.apply(this,["push"].concat(r)),this}},{key:"pop",value:function(){var e=St(Pt(t.prototype),"pop",this).call(this);return this.callListeners("pop",e),e}},{key:"shift",value:function(){var e=St(Pt(t.prototype),"shift",this).call(this);return this.callListeners("shift",e),e}},{key:"unshift",value:function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=St(Pt(t.prototype),"unshift",this)).call.apply(e,[this].concat(r)),this.callListeners.apply(this,["unshift"].concat(r)),this}},{key:"splice",value:function(e,n){for(var r,o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];var u=(r=St(Pt(t.prototype),"splice",this)).call.apply(r,[this,e,n].concat(i));return this.callListeners.apply(this,["splice",e,n].concat(i)),u}},{key:"update",value:function(){return this.callListeners("update"),this}},{key:"clear",value:function(){return St(Pt(t.prototype),"splice",this).call(this,0,this.length),this.callListeners("clear"),this}},{key:"remove",value:function(t){var e=this.indexOf(t);return-1!==e&&this.splice(e,1),this}},{key:"sort",value:function(e){return St(Pt(t.prototype),"sort",this).call(this,e),this.callListeners("sort",e),this}},{key:"swap",value:function(t){if(!Array.isArray(t))throw new TypeError("LiveList.swap() requires an array");return this.clear(),this.push.apply(this,yt(t)),this}},{key:"insert",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.splice.apply(this,[t,0].concat(n)),this}}])}(),Ct=function(){function t(e){return dt(this,t),wt(this,t,[e])}return Ot(t,ht),bt(t)}(),It=function(){return bt(function t(e){dt(this,t),this.initialValue=e,this.value=e,this.eventListeners=new Nt},[{key:"interp",value:function(t){return new h(this,t,"text")}},{key:"contentInterp",value:function(t){return new h(this,t,"html")}},{key:"subscribe",value:function(t,e){this.eventListeners.subscribe(t,e)}},{key:"reset",value:function(){this.value=this.initialValue,this.eventListeners.notifySubscribers(this.value)}},{key:"toggle",value:function(){var t=this.get();if("boolean"!=typeof t)throw new TypeError("LiveVar.toggle() only works for Booleans");return this.set(!t),this}},{key:"set",value:function(t){t!==this.value&&(this.value=t,this.eventListeners.notifySubscribers(this.value))}},{key:"default",value:function(t,e){return void 0!==this.value&&null!==this.value&&this.value!==t||this.set(e),this}},{key:"get",value:function(){return this.value}}])}(),Lt=new WeakMap,Nt=function(){return bt(function t(){dt(this,t),this.subscribers=new ft},[{key:"subscribe",value:function(t,e){var n,r=this;if("function"!=typeof t)throw new TypeError("Callback must be a function");return e&&(n=e,Lt.has(n)||Lt.set(n,[]),Lt.get(n)).push(t),this.subscribers.add(t),function(){return r.unsubscribe(t)}}},{key:"unsubscribe",value:function(t){if("function"!=typeof t)throw new TypeError("Callback must be a function");this.subscribers.delete(t)}},{key:"notifySubscribers",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.subscribers.forEach(function(t){return t.apply(void 0,e)})}}])}();function Rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||zt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(t,e){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dt(t,e)}function Ft(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ft=function(){return!!t})()}function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Xt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=zt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function zt(t,e){if(t){if("string"==typeof t)return Ut(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,e):void 0}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zt(r.key),r)}}function qt(t,e,n){Wt(t,e),e.set(t,n)}function Wt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gt(t,e,n){return t.set(Ht(t,e),n),n}function Vt(t,e){return t.get(Ht(t,e))}function Ht(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function $t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Kt(t,e,n){return(e=Zt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zt(t){var e=function(t){if("object"!=Bt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Bt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Bt(e)?e:e+""}var Jt=new WeakMap,Qt={"zyx-live-list":function(t){var e=t.node,n=t.data;return new he(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(n),!0).forEach(function(e){Kt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({container:e},n))}},te=new WeakMap,ee=new WeakMap,ne=new WeakMap,re=new WeakMap,oe=new WeakMap,ie=new WeakMap,ae=new WeakMap,ue=new WeakMap,se=new WeakMap,ce=new WeakMap,le=new WeakMap,fe=new WeakSet,he=function(){return function(t,e){return e&&Yt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.container,r=void 0===n?r:n,o=e.list,i=void 0===o?null:o,a=e.compose,u=void 0===a?null:a,s=e.debounce,c=void 0===s?1:s,l=e.range,f=void 0===l?null:l,p=e.after,y=void 0===p?null:p,v=e.offset,d=void 0===v?0:v;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){Wt(t,e),e.add(t)}(this,fe),qt(this,te,new WeakMap),qt(this,ee,void 0),qt(this,ne,void 0),qt(this,re,void 0),qt(this,oe,void 0),qt(this,ie,void 0),qt(this,ae,void 0),qt(this,ue,void 0),qt(this,se,void 0),qt(this,ce,void 0),qt(this,le,null),!(i instanceof Mt||i instanceof h))throw new Error("list must be an instance of LiveList or LiveVar.interp() (LiveInterp)");r.liveDomList=this,Gt(ee,this,r),this.infiniteScrolling=null,Jt.set(r,this),Gt(oe,this,u),Gt(se,this,y),Gt(ne,this,i),Gt(ie,this,f),Gt(ae,this,d),Gt(ue,this,c),Gt(ce,this,this.arrayModified.bind(this)),i instanceof Mt?(Gt(re,this,i),Vt(re,this).subscribe(Vt(ce,this),Vt(ee,this))):i instanceof h&&(Gt(re,this,Ht(fe,this,pe).call(this)),Ht(fe,this,ye).call(this),Vt(ne,this).reactive.subscribe(this.liveVarChanged.bind(this),Vt(ee,this))),this.update()},[{key:"startIndex",get:function(){return Vt(ie,this)[0]}},{key:"endIndex",get:function(){return Vt(ie,this)[1]}},{key:"isUpdating",get:function(){return null!==Vt(le,this)}},{key:"liveVarChanged",value:function(){Ht(fe,this,ve).call(this),Gt(re,this,Ht(fe,this,pe).call(this)),Ht(fe,this,ye).call(this),this.update()}},{key:"arrayModified",value:function(t,e){var n=this;Vt(le,this)&&clearTimeout(Vt(le,this)),Gt(le,this,setTimeout(function(){n.update(),Gt(le,n,null)},Vt(ue,this)))}},{key:"forEach",value:function(t){var e,n=Xt(this.entries());try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(t){n.e(t)}finally{n.f()}}},{key:"entries",value:function(){var t=this;return Array.from(Vt(ee,this).children,function(e){return[e,Vt(te,t).get(e)]})}},{key:"orderedEntires",value:function(){var t=this;return Array.from(this.orderedDomItems(),function(e){return[e,Vt(te,t).get(e)]})}},{key:"domItems",value:function(){var t=this;return Array.from(Vt(ee,this).children,function(e){return Vt(te,t).get(e)})}},{key:"orderedDomItems",value:function(){return Array.from(Vt(ee,this).children).sort(function(t,e){return t.style.order-e.style.order})}},{key:"get",value:function(t){return Vt(te,this).get(t)}},{key:"createCompose",value:function(t){var e;if(!Vt(oe,this))return t;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return"object"===Bt(Vt(oe,this).prototype)?function(t,e,n){if(Ft())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&Dt(o,n.prototype),o}(Vt(oe,this),[t].concat(r)):(e=Vt(oe,this)).call.apply(e,[this,t].concat(r))}},{key:"getTarget",value:function(){if(null===Vt(ie,this))return Object.values(Vt(re,this));var t=this.getRange(),e=t.start,n=t.end;return Object.values(Vt(re,this)).slice(e,n)}},{key:"getRange",value:function(){return{start:Math.max(0,Vt(ie,this)[0]+Vt(ae,this)),end:Math.min(Vt(re,this).length,Vt(ie,this)[1]+Vt(ae,this))}}},{key:"getRangeHalf",value:function(){var t=this.getRange();return(t.start+t.end)/2}},{key:"getRangeLength",value:function(){return this.getRange().end-this.getRange().start}},{key:"updateRange",value:function(t){var e=t(Vt(ie,this));Gt(ie,this,[Math.max(0,e[0]),Math.max(0,e[1])]),Vt(ee,this).setAttribute("data-range",Vt(ie,this).join(",")),this.update()}},{key:"shiftRange",value:function(t){this.updateRange(function(e){return[e[0]+t,e[1]+t]})}},{key:"updateOffset",value:function(t){var e=t(Vt(ae,this));Gt(ae,this,Math.max(0,e)),Vt(ee,this).setAttribute("data-offset",Vt(ae,this)),this.update()}},{key:"removeNonArrayElements",value:function(t){t=t||this.getTarget();var e,n=Xt(this.entries());try{for(n.s();!(e=n.n()).done;){var r=Rt(e.value,2),o=r[0],i=r[1];t.includes(i)||o.remove()}}catch(t){n.e(t)}finally{n.f()}}},{key:"getCreateElements",value:function(t){var e=this;t=t||this.getTarget();var n=this.domItems(),r=-1;return t.map(function(t){r++;var o=Vt(te,e).get(t);if(o)return n.includes(t)||e.appendToContainer(o,t),{item:t,element:o,index:r};var i=e.createCompose(t);if((o=tn(i))instanceof HTMLTemplateElement||o instanceof DocumentFragment)throw Error("cannot associate reactive object with a template element");return e.appendToContainer(o,i),Vt(te,e).set(o,t),"symbol"!==Bt(t)&&"object"!==Bt(t)||Vt(te,e).set(t,o),{item:t,index:r,element:o}})}},{key:"appendToContainer",value:function(t,e){Vt(ee,this).appendChild(t),this.infiniteScrolling&&this.infiniteScrolling.mutationObserver.observe(t);try{var n;null===(n=e.onConnected)||void 0===n||n.call(e,t)}catch(t){console.error("item.onConnected error",t)}}},{key:"update",value:function(){var t=this.getTarget();this.removeNonArrayElements(t);var e,n=Xt(this.getCreateElements(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.element,i=r.index;o.style.order=i,o.setAttribute("list-index",i)}}catch(t){n.e(t)}finally{n.f()}Vt(se,this)&&Vt(se,this).call(this)}}])}();function pe(){if(Vt(ne,this)instanceof Mt)return Vt(ne,this);if(Vt(ne,this)instanceof h){var t=Vt(ne,this).interprate();if(null==t||void 0===t)return new Mt([]);if(!(t instanceof Mt))throw new Error("LiveVar.interp() callback must return a LiveList instance or null/undefined");return t}throw new Error("Invalid list type")}function ye(){Vt(re,this)&&Vt(re,this).subscribe(Vt(ce,this),Vt(ee,this))}function ve(){Vt(re,this)&&Vt(re,this).removeListener(Vt(ce,this))}function de(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return me(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ge(t,e,n){return(e=function(t){var e=function(t){if("object"!=we(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==we(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function ke(t,e){if("object"!==we(t)||!("subscribe"in t))return t+e;var n=new It(t.value+e);return t.subscribe(function(t){n.set(t+e)},t),n}function Se(t,e){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Se(t,e)}function Oe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Oe=function(){return!!t})()}function xe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||_e(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?je(Object(n),!0).forEach(function(e){Pe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Pe(t,e,n){return(e=Le(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Te(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_e(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ae(t){return function(t){if(Array.isArray(t))return Me(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(t,e){if(t){if("string"==typeof t)return Me(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Me(t,e):void 0}}function Me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Le(r.key),r)}}function Le(t){var e=function(t){if("object"!=Ce(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ce(e)?e:e+""}function Ne(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Re(t,e){return t.get(Fe(t,e))}function De(t,e,n){return t.set(Fe(t,e),n),n}function Fe(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Be="###",Xe="tag",ze=["this","push","ph"],Ue=new WeakMap,Ye=new WeakMap,qe=new WeakMap,We=new WeakMap,Ge=new WeakMap,Ve=new WeakMap,He=new WeakMap,$e=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,Je=new WeakMap,Qe=function(){return function(t,e){return e&&Ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ne(this,Ue,!1),Ne(this,Ye,void 0),Ne(this,qe,void 0),Ne(this,We,void 0),Ne(this,Ge,void 0),Ne(this,Ve,void 0),Ne(this,He,void 0),Ne(this,$e,void 0),Ne(this,Ke,void 0),Ne(this,Ze,void 0),Ne(this,Je,void 0),De($e,this,e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];De(Ke,this,r),De(We,this,this.processTagData()),De(qe,this,this.becomeDOM()),De(Ve,this,!1),De(Ye,this,null),De(Ge,this,null),De(Ue,this,!1),De(Je,this,!1)},[{key:"logMap",value:function(){return De(Je,this,!0),this}},{key:"cleanUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.keepMarkup,n=void 0!==e&&e,r=t.keepRaw,o=void 0!==r&&r,i=t.keepData,a=void 0!==i&&i,u=t.keepMap,s=void 0!==u&&u;n||De(qe,this,null),o||De($e,this,null),a||(De(We,this,null),De(Ke,this,null)),s||De(Ge,this,null)}},{key:"processTagData",value:function(){var t=Re($e,this).slice(0,-1),e="";return Re(Ke,this).map(function(n,r){e+=t.shift();var o="content",a=!1;/<\s*$/.test(e)?o=Xe:/=\s*$/.test(e)?(a=!0,o="unquoted-value"):/=\s*["']\s*$/.test(e)?(a=!1,o="quoted-value"):/<\/\s*$/.test(e)&&(o=Xe);var u=a?'"'.concat(i(r),'"'):i(r),s=null!==n&&("object"===Ce(n)||"function"==typeof n);return{context:o,value:n,replacement:o===Xe?n:u,needsPlaceholder:s}})}},{key:"becomeDOM",value:function(){var t,e;return function(t){for(var e=t.childNodes,n=0;n<2;n++)e[n]&&3===e[n].nodeType&&""===e[n].textContent.trim()&&t.removeChild(e[n]);return t}((t=String.raw.apply(String,[{raw:Re($e,this)}].concat(Ae(Re(We,this).map(function(t){var e=t.value,n=t.needsPlaceholder,r=t.replacement;return n?r:null!=e?e:""})))),(e=document.createElement("div")).innerHTML=t,e))}},{key:"const",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.keepRaw,n=void 0!==e&&e,o=t.keepMarkup,i=void 0!==o&&o,a=t.keepData,u=void 0!==a&&a,s=t.keepMap,c=void 0!==s&&s,l=t.mutationObserver,f=void 0!==l&&l;if(Re(Ue,this))return this;De(Ge,this,this.mapEverything()),Re(Je,this)&&console.log("ZyXHTML: map",Re(Ge,this),{this:this}),this.replaceDOMPlaceholders();var h,p=Te(Re(Ge,this).phs);try{for(p.s();!(h=p.n()).done;){var y=h.value,v=y.node,d=y.ph;v.setAttribute("ph",d),this.thisAssigner(v,d),this.markAttributeProcessed(v,"ph",d)}}catch(t){p.e(t)}finally{p.f()}var m,b=Te(Re(Ge,this).hasThis);try{for(b.s();!(m=b.n()).done;){var g=m.value,w=g.node,k=g.key;this.thisAssigner(w,k),this.markAttributeProcessed(w,"this",k)}}catch(t){b.e(t)}finally{b.f()}var S,O=Te(Re(Ge,this).hasPush);try{for(O.s();!(S=O.n()).done;){var x=S.value,j=x.node,E=x.key;this.pushAssigner(j,E),this.markAttributeProcessed(j,"push",E)}}catch(t){O.e(t)}finally{O.f()}var P,T=Te(Re(Ge,this).hasId);try{for(T.s();!(P=T.n()).done;){var A=P.value,_=A.node,M=A.id;this.thisAssigner(_,M)}}catch(t){T.e(t)}finally{T.f()}var C,I=Te(Re(Ge,this).zyxBindAttributes);try{for(I.s();!(C=I.n()).done;){var L=C.value,N=L.node,R=L.attr,D=L.data,F=rn[R];try{F({zyxhtml:this,node:N,data:D}),this.markAttributeProcessed(N,R)}catch(t){console.error(t),console.error("ZyXHTML: Error binding attribute",{attr:R,node:N,handler:F,data:D}),this.markAttributeProcessed(N,"errored-".concat(R),t)}}}catch(t){I.e(t)}finally{I.f()}var B,X,z,U,Y=Te(Re(Ge,this).zyxDynamicVars);try{for(Y.s();!(B=Y.n()).done;){var q=B.value,W=q.node,G=q.attr;q.data.createZyXHTMLReactiveNode(this,W,G),this.markAttributeProcessed(W,G)}}catch(t){Y.e(t)}finally{Y.f()}return!this.main&&Re(qe,this).firstElementChild&&(this.thisAssigner(Re(qe,this).firstElementChild,"main"),this.markAttributeProcessed(Re(qe,this).firstElementChild,"main")),De(Ye,this,Re(qe,this).childNodes.length>1?(X=Re(qe,this),(z=(U=document.createElement("template")).content).append.apply(z,function(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(X.childNodes)),U):Re(qe,this)),De(Ve,this,Re(Ye,this)instanceof HTMLTemplateElement),Re(Ve,this)?De(Ye,this,Re(Ye,this).content):De(Ye,this,Re(Ye,this).firstElementChild),f&&this.setupSelfMutationObserver(),this.cleanUp({keepMarkup:i,keepRaw:n,keepData:u,keepMap:c}),De(Ue,this,!0),this}},{key:"mapEverything",value:function(){var t,e=Ae(Re(qe,this).querySelectorAll("*")),n={placeholders:[],hasThis:[],hasId:[],zyxBindAttributes:[],zyxDynamicVars:[],phs:[],hasPush:[]},r=Te(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.matches(o)){var u=i.getAttribute("id");if(u){var s,c=null===(s=Re(We,this)[u])||void 0===s?void 0:s.value;n.placeholders.push({node:i,phid:u,dataValue:c})}}else if(i.hasAttribute("ph"))n.phs.push({node:i,ph:i.getAttribute("ph")});else if(i.hasAttribute("this")&&n.hasThis.push({node:i,key:i.getAttribute("this")}),i.hasAttribute("push"))n.hasPush.push({node:i,key:i.getAttribute("push")});else{i.hasAttribute("id")&&n.hasId.push({node:i,id:i.getAttribute("id")});for(var l=0,f=Ae(i.attributes);l<f.length;l++){var p,y=f[l],v=a(y.value),d=null===(p=Re(We,this)[v])||void 0===p?void 0:p.value;y.name in rn&&n.zyxBindAttributes.push({node:i,attr:y.name,data:d}),d&&d instanceof h&&n.zyxDynamicVars.push({node:i,attr:y.name,data:d})}}}}catch(t){r.e(t)}finally{r.f()}return Ee({all:e},n)}},{key:"replaceDOMPlaceholders",value:function(){var t;if(null!==(t=Re(Ge,this))&&void 0!==t&&null!==(t=t.placeholders)&&void 0!==t&&t.length){var e,n=Te(Re(Ge,this).placeholders);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.node,i=r.dataValue;try{i instanceof h?i.createZyXHTMLReactiveNode(this,o,null):o.replaceWith(tn(i))}catch(t){console.error("Error replacing DOM placeholder:",t)}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"setupSelfMutationObserver",value:function(){De(Ze,this,new MutationObserver(function(t){})),Re(Ze,this).observe(Re(Ye,this),{childList:!0,subtree:!0})}},{key:"thisAssigner",value:function(t,e){if(t&&e)try{var n=e.split(" ");if(1===n.length){var r=n[0];t.__key__=r,this[r]=t,Re(He,this)&&(Re(He,this)[r]=t)}else{var o,i=Te(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;a&&a.trim()&&(t.__key__=a,this[a]=t,Re(He,this)&&(Re(He,this)[a]=t))}}catch(t){i.e(t)}finally{i.f()}}}catch(t){console.error("Error in thisAssigner:",t)}}},{key:"pushAssigner",value:function(t,e){this[e]||(this[e]=[]),this[e].push(t),Re(He,this)&&(Re(He,this)[e]||(Re(He,this)[e]=[]),Re(He,this)[e].push(t))}},{key:"markAttributeProcessed",value:function(t,e,n){ze.includes(e)?t.removeAttribute(e):t.setAttribute("".concat(e,"-processed"),n||""),t.setAttribute(e,"")}},{key:"markup",get:function(){return Re(Ye,this.const())}},{key:"appendTo",value:function(t){return t.append(this.markup),this}},{key:"prependTo",value:function(t){return t.prepend(this.markup),this}},{key:"place",value:function(t){return function(t,e){if("object"===n(e))return e.replaceWith(t);var r=document.querySelector("ph[".concat(e,"]"));if(!r)throw new Error("".concat(e," not found"));r.replaceWith(t)}(this.markup,t),this}},{key:"bind",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return De(He,this,t),t[Be]=this,t.appendTo=function(t){return e.appendTo(t)},t.prependTo=function(t){return e.prependTo(t)},t.place=function(t){return e.place(t)},this.const(n)}},{key:"join",value:function(t){return De(He,this,t),null!=t&&t[Be]&&Object.assign(this,t[Be]),this.const()}},{key:"touch",value:function(t){return console.warn("ZyXHTML: touch is deprecated"),t({proxy:this,markup:this.markup}),this}}])}();function tn(t){return!1===t||null==t?"":Array.isArray(t)?(e=t,r=document.createElement("template"),(n=r.content).append.apply(n,Ae(e.map(tn))),r).content:"function"==typeof t?tn(t()):(null==t?void 0:t[Be])instanceof Qe?t[Be].markup:t instanceof Qe?t.markup:t instanceof HTMLTemplateElement?t.content:t;var e,n,r}Qe.prototype.super=Qe.prototype.join;var en,nn,rn=Ee(Ee(Ee(Ee({},C),K),Qt),{},{"zyx-insert-n":function(t){for(var e=t.zyxhtml,n=t.node,r=xe(t.data,2),o=r[0],i=r[1],a=0;a<o;a++)n.append(tn(i(e,a,o)))},"zyx-insert-entries":function(t){for(var e=t.zyxhtml,n=t.node,r=xe(t.data,3),o=r[0],i=r[1],a=r[2],u=0,s=Object.entries(o);u<s.length;u++){var c=xe(s[u],2),l=i(e,c[0],c[1]);if(n.append(tn(l)),a)if("string"==typeof a)e.pushAssigner(l,a);else{if(!Array.isArray(a))throw new Error("Invalid groupname");a.push(l)}}},"zyx-transform":function(t){var e=t.node,n=t.data;e.zyxTrans=function(t,e){if(!(t instanceof HTMLElement))throw new Error("zyxTransform requires a valid HTMLElement");var n={},r={},o="";function i(t){if(!t||"string"!=typeof t)throw new Error("Snapshot name must be a non-empty string");n[t]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?be(Object(n),!0).forEach(function(e){ge(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},r)}function a(t){r=t,c(),l()}function u(t){if(!t||"string"!=typeof t)throw new Error("Restore name must be a non-empty string");return t in n?(a(null),a(n[t]),!0):(console.warn("No snapshot found with name: ".concat(t)),!1)}function s(){if(e){for(var n in e){var o=e[n];"object"===we(o)&&"reset"in o&&o.reset()}c(),l()}else r={},t.style.transformOrigin="50% 50%",t.style.transform=""}function c(){var e="object"===we(r.originX)&&"subscribe"in r.originX?r.originX.value:r.originX||"50%",n="object"===we(r.originY)&&"subscribe"in r.originY?r.originY.value:r.originY||"50%";t.style.transformOrigin="".concat(e," ").concat(n)}function l(){for(var e=[],n=0,i=Object.entries(r);n<i.length;n++){var a=de(i[n],2),u=a[0],s=a[1];if(s&&"originX"!==u&&"originY"!==u){var c="object"===we(s)&&"subscribe"in s?s.value:s;e.push("".concat(u,"(").concat(c,")"))}}o=e.join(" "),t.style.transform=o}return e&&function(){if(e){for(var n=0,o=[{key:"scale",unit:""},{key:"rotateX",unit:"deg"},{key:"rotateY",unit:"deg"},{key:"rotateZ",unit:"deg"},{key:"translateX",unit:"px"},{key:"translateY",unit:"px"},{key:"translateZ",unit:"px"},{key:"originX",unit:"%"},{key:"originY",unit:"%"}];n<o.length;n++){var i=o[n],a=i.key,u=i.unit;if(a in e){var s=e[a];"object"===we(s)&&"subscribe"in s?(r[a]="scale"===a?s:ke(s,u),"originX"===a||"originY"===a?s.subscribe(c,t):s.subscribe(l,t)):r[a]="scale"===a?s:s+u}}c(),l()}}(),Object.assign(t,{set:a,snapshot:i,restore:u,resetTransforms:s}),{set:a,snapshot:i,restore:u,resetTransforms:s}}(e,null==n?void 0:n.map)},"zyx-shadowroot":function(t){!function(t){var e,n=t.node;if(!n.shadow){n.shadow=n.attachShadow({mode:"open"});var r=document.createElement("style");(e=n.shadow).append.apply(e,j(n.childNodes)),n.shadow.append(r),n.loadCSS=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,u,"next",t)}function u(t){x(i,r,o,a,u,"throw",t)}a(void 0)})}}(y().mark(function t(e){var r,o,i,a;return y().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(e)){t.next=19;break}r=O(e),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=10;break}return i=o.value,t.next=8,n.loadCSS(i);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:return t.abrupt("return");case 19:return(a=document.createElement("link")).rel="stylesheet",a.type="text/css",a.href=e,t.next=25,new Promise(function(t,e){a.onload=function(){return t()},a.onerror=e,n.shadow.appendChild(a)});case 25:case"end":return t.stop()}},t,null,[[2,12,15,18]])}));return function(e){return t.apply(this,arguments)}}(),n.removeAttribute("zyx-shadowroot")}}({node:t.node})}});function on(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,e,n){if(Oe())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&Se(o,n.prototype),o}(Qe,e)}function an(){var t=hn(),e=t.m(an),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,un(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(an=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new yn(t,e)},AsyncIterator:fn,async:function(t,e,n,o,a){return(r(e)?ln:cn)(i(t),e,n,o,a)},keys:sn,values:un}})()}function un(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(vn(t)+" is not iterable")}function sn(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function cn(t,e,n,r,o){var i=ln(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function ln(t,e,n,r,o){return new fn(hn().w(t,e,n,r),o||Promise)}function fn(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof yn?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(pn(fn.prototype),pn(fn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),pn(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function hn(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return pn(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(pn(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,pn(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,pn(f,"constructor",c),pn(c,"constructor",s),s.displayName="GeneratorFunction",pn(c,o,"GeneratorFunction"),pn(f),pn(f,o,"Generator"),pn(f,r,function(){return this}),pn(f,"toString",function(){return"[object Generator]"}),(hn=function(){return{w:i,m:h}})()}function pn(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}pn=function(t,e,n,r){function i(e,n){pn(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},pn(t,e,n,r)}function yn(t,e){this.v=t,this.k=e}function vn(t){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(t)}function dn(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function mn(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){dn(i,r,o,a,u,"next",t)}function u(t){dn(i,r,o,a,u,"throw",t)}a(void 0)})}}function bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return gn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(n),!0).forEach(function(e){Sn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Sn(t,e,n){return(e=function(t){var e=function(t){if("object"!=vn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function On(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.form?jn(t,e,n):fetch(t,kn({headers:new Headers({"Content-Type":"application/json"}),method:"POST",credentials:"include",body:JSON.stringify(e)},n))}function xn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(t,kn({headers:new Headers({"Content-Type":"application/json"}),method:"GET",credentials:"include"},e))}function jn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new FormData;return Object.entries(e).forEach(function(t){var e=bn(t,2),n=e[0],o=e[1];return r.append(n,o)}),fetch(t,kn({method:"POST",credentials:"include",body:r},n))}function En(t){return new Promise(function(e,n){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.onload=function(){r.remove(),e({link:r,remove:function(){return r.remove()}})},r.onerror=n,r.href=t,document.head.appendChild(r)})}function Pn(t){return Tn.apply(this,arguments)}function Tn(){return(Tn=mn(an().mark(function t(e){var n,r,o;return an().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(!(n=t.sent).ok){t.next=11;break}return t.next=6,n.blob();case 6:return r=t.sent,o=URL.createObjectURL(r),t.abrupt("return",{blob:r,objectURL:o});case 11:throw new Error("Blob fetch failed");case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function An(t){return _n.apply(this,arguments)}function _n(){return(_n=mn(an().mark(function t(e){return an().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src=e}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Mn(t,e){return Cn.apply(this,arguments)}function Cn(){return(Cn=mn(an().mark(function t(e,n){var r,o,i,a,u,s,c;return an().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,An(e);case 2:return r=t.sent,n=n||512,o=document.createElement("canvas"),i=o.getContext("2d"),a=In(r.width,r.height,n),u=bn(a,2),s=u[0],c=u[1],o.width=s,o.height=c,i.drawImage(r,0,0,s,c),t.abrupt("return",o);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function In(t,e,n){if(t>n||e>n){var r=n/Math.max(t,e);return[t*r,e*r]}return[t,e]}function Ln(t){var e=t.replace(/^.*[\\\/]/,"").split("?")[0];return{filename:e,ext:e.split(".").pop()}}function Nn(t){return Rn.apply(this,arguments)}function Rn(){return Rn=mn(an().mark(function t(e){var n,r,o=arguments;return an().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t.next=3,fetch(e,kn({headers:new Headers({"Content-Type":"application/json"}),credentials:"include"},n));case 3:if((r=t.sent).ok){t.next=6;break}throw new Error("Request failed with status ".concat(r.status));case 6:return t.abrupt("return",r.json());case 7:case"end":return t.stop()}},t)})),Rn.apply(this,arguments)}function Dn(t,e){return fetch(t,{headers:new Headers({"Content-Type":"application/json"}),method:"PUT",credentials:"include",body:JSON.stringify(e)})}function Fn(t){return fetch(t,{headers:new Headers({"Content-Type":"application/json"}),method:"DELETE",credentials:"include"})}function Bn(t){return Xn.apply(this,arguments)}function Xn(){return(Xn=mn(an().mark(function t(e){return an().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){var r=document.createElement("script");r.src=e,r.onload=function(){return t(r)},r.onerror=n,document.head.appendChild(r)}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zn(t){return Un.apply(this,arguments)}function Un(){return Un=mn(an().mark(function t(e){var n,r=arguments;return an().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Blob([e],{type:r.length>1&&void 0!==r[1]?r[1]:"application/octet-stream"}),t.abrupt("return",{blob:n,objectURL:URL.createObjectURL(n)});case 3:case"end":return t.stop()}},t)})),Un.apply(this,arguments)}function Yn(t){return qn.apply(this,arguments)}function qn(){return qn=mn(an().mark(function t(e){var n,r,o,i,a,u=arguments;return an().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2&&void 0!==u[2]?u[2]:5e3,o=new AbortController,i=setTimeout(function(){return o.abort()},r),t.prev=4,t.next=7,fetch(e,kn(kn({},n),{},{signal:o.signal}));case 7:return a=t.sent,t.abrupt("return",a);case 9:return t.prev=9,clearTimeout(i),t.finish(9);case 12:case"end":return t.stop()}},t,null,[[4,,9,12]])})),qn.apply(this,arguments)}function Wn(t){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(t)}function Gn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Vn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vn(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hn(){var t=tr(),e=t.m(Hn),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,$n(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(Hn=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new nr(t,e)},AsyncIterator:Qn,async:function(t,e,n,o,a){return(r(e)?Jn:Zn)(i(t),e,n,o,a)},keys:Kn,values:$n}})()}function $n(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(Wn(t)+" is not iterable")}function Kn(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Zn(t,e,n,r,o){var i=Jn(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function Jn(t,e,n,r,o){return new Qn(tr().w(t,e,n,r),o||Promise)}function Qn(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof nr?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(er(Qn.prototype),er(Qn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),er(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function tr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return er(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(er(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,er(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,er(f,"constructor",c),er(c,"constructor",s),s.displayName="GeneratorFunction",er(c,o,"GeneratorFunction"),er(f),er(f,o,"Generator"),er(f,r,function(){return this}),er(f,"toString",function(){return"[object Generator]"}),(tr=function(){return{w:i,m:h}})()}function er(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}er=function(t,e,n,r){function i(e,n){er(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},er(t,e,n,r)}function nr(t,e){this.v=t,this.k=e}function rr(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function or(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){rr(i,r,o,a,u,"next",t)}function u(t){rr(i,r,o,a,u,"throw",t)}a(void 0)})}}function ir(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ar(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ur(r.key),r)}}function ur(t){var e=function(t){if("object"!=Wn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Wn(e)?e:e+""}var sr=function(){function t(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).root;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),on(en||(en=ir([' <styles this="styles"></styles> ']))).bind(this),e&&this.appendTo(e)}return function(t,e){return e&&ar(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"loadUrl",value:(n=or(Hn().mark(function t(e){var n,r,o;return Hn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,En(e);case 2:return n=t.sent,r=n.link,o=n.remove,this.styles.appendChild(r),t.abrupt("return",{link:r,remove:o});case 7:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"str",value:(e=or(Hn().mark(function t(e){var n,r,o,i,a,u,s,c,l=arguments;return Hn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=l.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=l[o];if(i=String.raw.apply(String,[e].concat(r)),!String(i).startsWith("url(")){t.next=22;break}a=i.split("url(").slice(1).map(function(t){return t.split(")")[0]}),u=Gn(a),t.prev=5,u.s();case 7:if((s=u.n()).done){t.next=13;break}return c=s.value,t.next=11,this.loadUrl(c);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),u.e(t.t0);case 18:return t.prev=18,u.f(),t.finish(18);case 21:return t.abrupt("return");case 22:return t.abrupt("return",on(nn||(nn=ir(['<style this="style">',"</style>"])),i).appendTo(this.styles));case 23:case"end":return t.stop()}},t,this,[[5,15,18,21]])})),function(t){return e.apply(this,arguments)})},{key:"cloneType",value:function(e){return new t({root:e})}}]);var e,n}(),cr=new sr({root:"undefined"!=typeof document&&document.head});function lr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return cr.str.apply(cr,[t].concat(n))}function fr(t){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fr(t)}function hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pr(r.key),r)}}function pr(t){var e=function(t){if("object"!=fr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==fr(e)?e:e+""}var yr=function(){return function(t,e){return e&&hr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},[{key:"get",value:function(t,e){var n=t+"=",r=decodeURIComponent(document.cookie),o=r.split(";");if(!r.includes(t))return this.set(t,e),e;for(var i in o){for(var a=o[i];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(n)){var u=a.substring(n.length,a.length);return"true"===u||"false"===u?"true"===u:u}}return""}},{key:"set",value:function(t,e,n){var r=new Date;n?r.setTime(r.getTime()+24*n*60*60*1e3):r.setTime(r.getTime()+8639136e5);var o="expires="+r.toUTCString();document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/")}},{key:"delete",value:function(t){console.log("deleting cookie",t),this.set(t,"",-1)}}])}(),vr=new yr;function dr(t){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dr(t)}function mr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return br(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?br(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function br(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gr(){var t=jr(),e=t.m(gr),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,wr(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(gr=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new Pr(t,e)},AsyncIterator:xr,async:function(t,e,n,o,a){return(r(e)?Or:Sr)(i(t),e,n,o,a)},keys:kr,values:wr}})()}function wr(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(dr(t)+" is not iterable")}function kr(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Sr(t,e,n,r,o){var i=Or(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function Or(t,e,n,r,o){return new xr(jr().w(t,e,n,r),o||Promise)}function xr(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof Pr?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(Er(xr.prototype),Er(xr.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Er(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function jr(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return Er(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Er(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Er(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,Er(f,"constructor",c),Er(c,"constructor",s),s.displayName="GeneratorFunction",Er(c,o,"GeneratorFunction"),Er(f),Er(f,o,"Generator"),Er(f,r,function(){return this}),Er(f,"toString",function(){return"[object Generator]"}),(jr=function(){return{w:i,m:h}})()}function Er(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Er=function(t,e,n,r){function i(e,n){Er(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Er(t,e,n,r)}function Pr(t,e){this.v=t,this.k=e}function Tr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tr(Object(n),!0).forEach(function(e){_r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _r(t,e,n){return(e=Rr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mr(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Cr(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){Mr(i,r,o,a,u,"next",t)}function u(t){Mr(i,r,o,a,u,"throw",t)}a(void 0)})}}function Ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rr(r.key),r)}}function Nr(t,e,n){return e&&Lr(t.prototype,e),n&&Lr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rr(t){var e=function(t){if("object"!=dr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=dr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==dr(e)?e:e+""}function Dr(t,e,n){Fr(t,e),e.set(t,n)}function Fr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Br(t,e){return t.get(zr(t,e))}function Xr(t,e,n){return t.set(zr(t,e),n),n}function zr(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ur(t){if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&t<0)throw new Error("Sleep duration cannot be negative");return new Promise(function(e){return setTimeout(e,Math.max(0,t))})}var Yr=new WeakMap,qr=new WeakMap,Wr=new WeakMap,Gr=new WeakMap,Vr=new WeakSet,Hr=function(){return Nr(function t(e){var n=e.url,r=e.type,o=void 0===r?"module":r,i=e.errorHandler,a=void 0===i?console.error:i;Ir(this,t),function(t,e){Fr(t,e),e.add(t)}(this,Vr),Dr(this,Yr,void 0),Dr(this,qr,void 0),Dr(this,Wr,void 0),Dr(this,Gr,void 0),Xr(Yr,this,new Worker(n,{type:o})),Xr(qr,this,new Map),Xr(Wr,this,new Map),Xr(Gr,this,a),Br(Yr,this).onmessage=zr(Vr,this,$r).bind(this),Br(Yr,this).onerror=zr(Vr,this,Kr).bind(this)},[{key:"on",value:function(t,e){var n=this;return Br(Wr,this).has(t)||Br(Wr,this).set(t,new Set),Br(Wr,this).get(t).add(e),function(){return n.off(t,e)}}},{key:"off",value:function(t,e){var n=Br(Wr,this).get(t);n&&n.delete(e)}},{key:"execute",value:(t=Cr(gr().mark(function t(e){var n,r,o=this;return gr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=crypto.randomUUID(),r=new Promise(function(t,e){Br(qr,o).set(n,{resolve:t,reject:e})}),Br(Yr,this).postMessage(Ar(Ar({},e),{},{taskId:n})),t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"terminate",value:function(){Br(Yr,this).terminate(),Br(qr,this).clear(),Br(Wr,this).clear()}}]);var t}();function $r(t){var e=this,n=t.data,r=n.taskId,o=n.error,i=n.data;if("event"!==n.type){var a=Br(qr,this).get(r);a&&(Br(qr,this).delete(r),o?a.reject(new Error(o)):a.resolve(i))}else{var u=Br(Wr,this).get(i.event);u&&u.forEach(function(t){try{t(i.payload)}catch(t){Br(Gr,e).call(e,t)}})}}function Kr(t){Br(Gr,this).call(this,t)}var Zr=new WeakMap,Jr=new WeakMap,Qr=function(){return Nr(function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.delay,o=void 0===r?1:r,i=n.immediate,a=void 0!==i&&i;Ir(this,t),Dr(this,Zr,void 0),Dr(this,Jr,void 0),Xr(Zr,this,!1),Xr(Jr,this,new Promise(function(t,n){var r=function(){var r=Cr(gr().mark(function r(){return gr().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,"function"!=typeof e.asyncInit){r.next=4;break}return r.next=4,e.asyncInit();case 4:Xr(Zr,e,!0),t(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n(r.t0);case 11:case"end":return r.stop()}},r,null,[[0,8]])}));return function(){return r.apply(this,arguments)}}();a?queueMicrotask(r):setTimeout(r,o)}))},[{key:"isInitialized",get:function(){return Br(Zr,this)}},{key:"waitForInit",value:(t=Cr(gr().mark(function t(){return gr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Br(Jr,this);case 2:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})}]);var t}(),to=new WeakMap,eo=new WeakMap,no=function(){return Nr(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.delay,r=void 0===n?1:n,o=e.microtask,i=void 0!==o&&o;Ir(this,t),Dr(this,to,void 0),Dr(this,eo,void 0),Xr(to,this,r),Xr(eo,this,i),this.callAsyncConstructor()},[{key:"callAsyncConstructor",value:function(){var t=this;"function"==typeof(null==this?void 0:this.asynConstructor)?Br(eo,this)?queueMicrotask(function(e){return t.asynConstructor()}):setTimeout(function(e){return t.asynConstructor()},Br(to,this)):console.warn("you are using a (new AsynConstructor()) class without an async asynConstructor method.")}}])}();function ro(t,e,n){return oo.apply(this,arguments)}function oo(){return oo=Cr(gr().mark(function t(e,n,r){var o,i,a,u,s;return gr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=[],i=new Set,a=mr(n),t.prev=3,s=gr().mark(function t(){var a,s,c;return gr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=u.value,s=Promise.resolve().then(function(){return r(a,n)}),o.push(s),!(e<=n.length)){t.next=9;break}if(c=s.then(function(){return i.delete(c)}),i.add(c),!(i.size>=e)){t.next=9;break}return t.next=9,Promise.race(i);case 9:case"end":return t.stop()}},t)}),a.s();case 6:if((u=a.n()).done){t.next=10;break}return t.delegateYield(s(),"t0",8);case 8:t.next=6;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(3),a.e(t.t1);case 15:return t.prev=15,a.f(),t.finish(15);case 18:return t.abrupt("return",Promise.all(o));case 19:case"end":return t.stop()}},t,null,[[3,12,15,18]])})),oo.apply(this,arguments)}function io(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ao(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ao(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var uo=new WeakMap;"undefined"!=typeof window&&(window.zyxMap=uo);var so=function(t,e){var n=uo.get(t);return n||(uo.set(t,{banks:{}}),n=uo.get(t)),e in n.banks||(n.banks[e]={}),n.banks[e]};function co(t,e){var n=so(t,"delayChains");if(e in n){var r,o=io(n[e].pending);try{for(o.s();!(r=o.n()).done;){var i=r.value;clearTimeout(i)}}catch(t){o.e(t)}finally{o.f()}n[e].pending=[],n[e].callbacks=[]}else n[e]={callbacks:[],pending:[]};var a=function(){return n[e].callbacks.length>0&&n[e].callbacks.splice(0,1)[0]()};return n[e].pending.push(setTimeout(a,1)),function t(){return{then:function(r,o){return n[e].callbacks.push(function(){n[e].pending.push(setTimeout(function(t){r(),a()},o))}),t()}}}()}function lo(t,e){var n=so(t,"delayChains");if(e in n){var r,o=io(n[e].pending);try{for(o.s();!(r=o.n()).done;){var i=r.value;clearTimeout(i)}}catch(t){o.e(t)}finally{o.f()}n[e]={callbacks:[],pending:[]}}}function fo(t,e,n,r){return new Promise(function(o,i){var a=so(t,"delays");e in a&&clearTimeout(a[e].timeout),n=n||0,a[e]=r?{func:r,timeout:setTimeout(function(){return o(r())},n)}:{func:r,timeout:setTimeout(o,n)}})}function ho(t){for(var e,n=so(t,"delays"),r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(o.length>1)for(var a in o){var u;a in n&&clearTimeout(null===(u=n[a])||void 0===u?void 0:u.timeout)}else clearTimeout(null===(e=n[o[0]])||void 0===e?void 0:e.timeout)}function po(t,e){var n=so(t,"delays");e in n&&(clearTimeout(n[e].timeout),n[e].func())}function yo(t,e,n,r){var o=so(t,"debouncers");if(e in o)o[e](n);else{try{n(),n=null}catch(t){throw new Error(t)}setTimeout(function(t){try{n&&n()}catch(t){throw new Error(t)}delete o[e]},r),o[e]=function(t){return n=t}}}function vo(t){return vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(t)}function mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,go(r.key),r)}}function go(t){var e=function(t){if("object"!=vo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=vo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==vo(e)?e:e+""}function wo(t,e){return t.get(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(t,e))}var ko=new WeakMap,So=function(){return function(t,e){return e&&bo(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}(this,ko,{})},[{key:"on",value:function(t,e){var n=this;if("string"!=typeof t)throw new TypeError("Event name must be a string");if("function"!=typeof e)throw new TypeError("Callback must be a function");t.includes(",")?t.split(",").forEach(function(t){return n.on(t.trim(),e)}):(t in wo(ko,this)||(wo(ko,this)[t]=[]),wo(ko,this)[t].push(e))}},{key:"call",value:function(t){if("string"!=typeof t)throw new TypeError("Event name must be a string");var e=wo(ko,this)[t];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return mo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(e);try{for(a.s();!(i=a.n()).done;){var u=i.value;try{u.apply(void 0,r)}catch(e){console.error("Error in event handler for '".concat(t,"':"),e),this.call("error",e,t,r)}}}catch(t){a.e(t)}finally{a.f()}}}},{key:"off",value:function(t,e){var n=this;if("string"!=typeof t)throw new TypeError("Event name must be a string");t.includes(",")?t.split(",").forEach(function(t){return n.off(t.trim(),e)}):t in wo(ko,this)&&(e?wo(ko,this)[t]=wo(ko,this)[t].filter(function(t){return t!==e}):delete wo(ko,this)[t])}},{key:"listenerCount",value:function(t){var e;return(null===(e=wo(ko,this)[t])||void 0===e?void 0:e.length)||0}}])}();function Oo(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.split(" ").forEach(function(e){return t.addEventListener(e,n,r)})}function xo(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.split(" ").forEach(function(e){return t.removeEventListener(e,n,r)})}function jo(t,e,n){return Math.min(Math.max(t,e),n)}function Eo(t,e,n){return t+(e-t)*n}function Po(t,e,n,r,o){return(t-e)*(o-r)/(n-e)+r}function To(t,e){return Math.max(0,(-e+t)/(1-e))}function Ao(t,e){return Math.min(1,t/e)}function _o(t,e){return Math.round(t/e)*e}function Mo(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function Co(t,e){return Math.floor(Math.random()*(e-t+1))+t}function Io(t,e,n){return Mo(Math.random()*(e-t)+t,n)}function Lo(t){return t%2==0}function No(t){return t%2!=0}function Ro(t){return Number.isInteger(t)}function Do(t){return!Number.isInteger(t)}function Fo(t){return["up","right","down","left"][Math.round(t/90)%4]}function Bo(t){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(t)}function Xo(){var t=Go(),e=t.m(Xo),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,zo(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(Xo=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new Ho(t,e)},AsyncIterator:Wo,async:function(t,e,n,o,a){return(r(e)?qo:Yo)(i(t),e,n,o,a)},keys:Uo,values:zo}})()}function zo(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(Bo(t)+" is not iterable")}function Uo(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function Yo(t,e,n,r,o){var i=qo(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function qo(t,e,n,r,o){return new Wo(Go().w(t,e,n,r),o||Promise)}function Wo(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof Ho?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(Vo(Wo.prototype),Vo(Wo.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Vo(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function Go(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return Vo(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Vo(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,Vo(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,Vo(f,"constructor",c),Vo(c,"constructor",s),s.displayName="GeneratorFunction",Vo(c,o,"GeneratorFunction"),Vo(f),Vo(f,o,"Generator"),Vo(f,r,function(){return this}),Vo(f,"toString",function(){return"[object Generator]"}),(Go=function(){return{w:i,m:h}})()}function Vo(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Vo=function(t,e,n,r){function i(e,n){Vo(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Vo(t,e,n,r)}function Ho(t,e){this.v=t,this.k=e}function $o(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function Ko(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){$o(i,r,o,a,u,"next",t)}function u(t){$o(i,r,o,a,u,"throw",t)}a(void 0)})}}function Zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jo(r.key),r)}}function Jo(t){var e=function(t){if("object"!=Bo(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Bo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Bo(e)?e:e+""}var Qo=function(){return function(t,e){return e&&Zo(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.AUDIO_ROOT=e,this.ctx=new AudioContext,this.gainNode=this.ctx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.ctx.destination),this.SOUNDS={},this.muted=!1,this.activeSources=new Set,this.backgroundMusic=null,this.backgroundMusicPosition=0,this.isChangingBackgroundMusic=!1,this.filters=null,this.filtersEnabled=!1},[{key:"setupFilters",value:function(){this.filters||(this.filters={lowpass:this.ctx.createBiquadFilter(),highpass:this.ctx.createBiquadFilter(),bandpass:this.ctx.createBiquadFilter()},this.filters.lowpass.type="lowpass",this.filters.highpass.type="highpass",this.filters.bandpass.type="bandpass",this.filters.lowpass.frequency.value=2e4,this.filters.highpass.frequency.value=20,this.filters.bandpass.frequency.value=1e3,this.filters.bandpass.Q.value=1,this.filters.lowpass.connect(this.filters.highpass),this.filters.highpass.connect(this.filters.bandpass),this.filters.bandpass.connect(this.gainNode))}},{key:"addSound",value:(a=Ko(Xo().mark(function t(e){var n=this;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,r){if(Object.keys(n.SOUNDS).includes(e))return t();var o=new XMLHttpRequest;o.onload=function(o){n.ctx.decodeAudioData(o.target.response,function(r){n.SOUNDS[e]=r,t(n.SOUNDS[e])},function(t){r(new Error("Failed to decode audio data: ".concat(t.message)))})},o.onerror=function(){return r(new Error("Failed to load audio file: ".concat(e)))},o.open("GET",n.AUDIO_ROOT+e,!0),o.responseType="arraybuffer",o.send()}));case 1:case"end":return t.stop()}},t)})),function(t){return a.apply(this,arguments)})},{key:"stop",value:function(t){t.stop&&t.stop(),t.disconnect&&t.disconnect(),this.activeSources.delete(t)}},{key:"toggleMute",value:function(){return this.muted=!this.muted,this.gainNode.gain.value=this.muted?0:1,this.muted}},{key:"createBuffer",value:function(t,e){var n=this,r=this.ctx.createBufferSource();return r.buffer=this.SOUNDS[t],this.filtersEnabled?(this.setupFilters(),r.connect(this.filters.lowpass)):r.connect(this.gainNode),e||(e=function(){n.stop(r)}),r.onended=function(){return e()},this.activeSources.add(r),r}},{key:"createAndExecute",value:function(t,e){return this.createBuffer(t,e).start(0)}},{key:"fadeVolume",value:(i=Ko(Xo().mark(function t(e){var n,r,o=arguments;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:1,this.gainNode.gain.value,r=this.ctx.currentTime,this.gainNode.gain.setTargetAtTime(ti(e),r,n);case 4:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"playBackgroundMusic",value:(o=Ko(Xo().mark(function t(e){var n,r,o,i,a,u,s,c,l,f,h,p,y=arguments;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=y.length>1&&void 0!==y[1]?y[1]:{}).fadeIn,o=void 0===r?2:r,i=n.fadeOut,a=void 0===i?2:i,u=n.volume,s=void 0===u?.5:u,c=n.loop,l=void 0===c||c,!this.isChangingBackgroundMusic){t.next=5;break}return console.log("Already changing background music, ignoring new request"),t.abrupt("return");case 5:if(this.isChangingBackgroundMusic=!0,t.prev=6,!this.backgroundMusic){t.next=14;break}return console.log("Fading out background music",a),f=this.ctx.currentTime,this.gainNode.gain.setTargetAtTime(0,f,a/3),t.next=13,new Promise(function(t){return setTimeout(t,1e3*a)});case 13:this.backgroundMusic&&(this.stop(this.backgroundMusic),this.backgroundMusic=null);case 14:return t.next=16,this.addSound(e);case 16:return(h=this.ctx.createBufferSource()).buffer=this.SOUNDS[e],this.filtersEnabled?(this.setupFilters(),h.connect(this.filters.lowpass)):h.connect(this.gainNode),this.activeSources.add(h),h.loop=l,this.gainNode.gain.value=0,h.start(0),this.backgroundMusic=h,console.log("Fading in background music",o),p=this.ctx.currentTime,this.gainNode.gain.setTargetAtTime(ti(s),p,o/3),t.next=29,new Promise(function(t){return setTimeout(t,1e3*o)});case 29:return t.prev=29,this.isChangingBackgroundMusic=!1,t.finish(29);case 32:case"end":return t.stop()}},t,this,[[6,,29,32]])})),function(t){return o.apply(this,arguments)})},{key:"setPlaybackRate",value:function(t,e){t&&t.playbackRate&&(t.playbackRate.value=e)}},{key:"setStereoPan",value:function(t,e){t&&t.pan&&(t.pan.value=Math.max(-1,Math.min(1,e)))}},{key:"setFilter",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.filters[t];r&&(r.frequency.value=e,r.Q.value=n)}},{key:"play",value:(r=Ko(Xo().mark(function t(){var e,n,r,o,i,a,u,s,c,l,f,h,p,y,v,d,m,b,g,w,k,S,O,x=this,j=arguments;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(e=j.length>0&&void 0!==j[0]?j[0]:{}).source,r=e.name,o=e.looping,i=void 0!==o&&o,a=e.delay,u=void 0===a?0:a,s=e.volume,c=void 0===s?1:s,l=e.n,f=void 0===l?0:l,h=e.playbackRate,p=void 0===h?1:h,y=e.pan,v=void 0===y?0:y,d=e.fadeIn,m=void 0===d?0:d,b=e.onEnded,g=void 0===b?null:b,t.next=3,this.addSound(r);case 3:if(0!==(c=this.muted?0:c)){t.next=6;break}return t.abrupt("return");case 6:if(this.gainNode.gain.value=m>0?0:ti(c),!i&&!f){t.next=18;break}return i=!0,w=f-- >0,k=function t(){g&&g(),!i||w&&f--<=0?g&&w&&f<0&&g(!0):setTimeout(function(e){n=x.createAndExecute(r,t),x.setPlaybackRate(n,p),x.setStereoPan(n,v)},u)},n=this.createAndExecute(r,k),this.setPlaybackRate(n,p),this.setStereoPan(n,v),m>0&&this.fadeVolume(c,m),t.abrupt("return",{source:n,stop:function(){return i=!1},setPlaybackRate:function(t){return x.setPlaybackRate(n,t)},setPan:function(t){return x.setStereoPan(n,t)},setVolume:function(t){return x.fadeVolume(t)}});case 18:return S=function(){g&&g(),x.stop(O)},(O=this.createBuffer(r,S)).start(0),this.setPlaybackRate(O,p),this.setStereoPan(O,v),m>0&&this.fadeVolume(c,m),t.abrupt("return",O);case 25:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})},{key:"stopAll",value:function(){var t=this;this.activeSources.forEach(function(e){return t.stop(e)})}},{key:"pauseAll",value:function(){this.activeSources.forEach(function(t){t.stop&&t.stop()})}},{key:"pauseBackgroundMusic",value:(n=Ko(Xo().mark(function t(){var e,n,r=arguments;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:.5,this.backgroundMusic&&!this.isChangingBackgroundMusic){t.next=3;break}return t.abrupt("return",!1);case 3:if(this.isChangingBackgroundMusic=!0,t.prev=4,this.backgroundMusicPosition=this.ctx.currentTime-this.backgroundMusic.startTime,!(e>0)){t.next=11;break}return n=this.ctx.currentTime,this.gainNode.gain.setTargetAtTime(0,n,e/3),t.next=11,new Promise(function(t){return setTimeout(t,1e3*e)});case 11:if("running"!==this.ctx.state){t.next=14;break}return t.next=14,this.ctx.suspend();case 14:return t.abrupt("return",!0);case 15:return t.prev=15,this.isChangingBackgroundMusic=!1,t.finish(15);case 18:case"end":return t.stop()}},t,this,[[4,,15,18]])})),function(){return n.apply(this,arguments)})},{key:"resumeBackgroundMusic",value:(e=Ko(Xo().mark(function t(){var e,n,r,o=arguments;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:.5,n=o.length>1&&void 0!==o[1]?o[1]:.5,this.backgroundMusic&&!this.isChangingBackgroundMusic){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.isChangingBackgroundMusic=!0,t.prev=5,"suspended"!==this.ctx.state){t.next=9;break}return t.next=9,this.ctx.resume();case 9:if(!(e>0)){t.next=17;break}return this.gainNode.gain.value=0,r=this.ctx.currentTime,this.gainNode.gain.setTargetAtTime(ti(n),r,e/3),t.next=15,new Promise(function(t){return setTimeout(t,1e3*e)});case 15:t.next=18;break;case 17:this.gainNode.gain.value=ti(n);case 18:return t.abrupt("return",!0);case 19:return t.prev=19,this.isChangingBackgroundMusic=!1,t.finish(19);case 22:case"end":return t.stop()}},t,this,[[5,,19,22]])})),function(){return e.apply(this,arguments)})},{key:"stopBackgroundMusic",value:(t=Ko(Xo().mark(function t(){var e,n,r=arguments;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:.5,this.backgroundMusic&&!this.isChangingBackgroundMusic){t.next=3;break}return t.abrupt("return",!1);case 3:if(this.isChangingBackgroundMusic=!0,t.prev=4,!(e>0)){t.next=10;break}return n=this.ctx.currentTime,this.gainNode.gain.setTargetAtTime(0,n,e/3),t.next=10,new Promise(function(t){return setTimeout(t,1e3*e)});case 10:return this.stop(this.backgroundMusic),this.backgroundMusic=null,this.backgroundMusicPosition=0,t.abrupt("return",!0);case 14:return t.prev=14,this.isChangingBackgroundMusic=!1,t.finish(14);case 17:case"end":return t.stop()}},t,this,[[4,,14,17]])})),function(){return t.apply(this,arguments)})},{key:"isMusicPlaying",value:function(){return null!==this.backgroundMusic&&"running"===this.ctx.state}},{key:"getMusicState",value:function(){return this.backgroundMusic?"running"===this.ctx.state?"playing":"paused":"stopped"}},{key:"getCurrentTime",value:function(t){return t?t.context.currentTime-t.startTime:0}},{key:"seek",value:function(t,e){t&&t.buffer&&(t.stop(),t.start(0,e))}}]);var t,e,n,r,o,i,a}();function ti(t){return t<=0?0:t>=1?1:Math.pow(t,3)}function ei(t){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ei(t)}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ii(r.key),r)}}function oi(t,e,n){return e&&ri(t.prototype,e),n&&ri(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ii(t){var e=function(t){if("object"!=ei(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ei(e)?e:e+""}var ai=function(){return oi(function t(e){ni(this,t),this.defaultFocusable=e,this.focusedModuleRef=null},[{key:"getFocusedModule",value:function(){var t,e=null===(t=this.focusedModuleRef)||void 0===t?void 0:t.deref();if(!e)return null;if(!(e.__focusable__ instanceof ui))throw new Error("Module is not bound with Focusable class.");return e}},{key:"setDefaultFocusable",value:function(t){if(!(t.__focusable__ instanceof ui))throw new Error("Module is not a Focusable instance.");this.defaultFocusable=t}},{key:"setFocus",value:function(t){var e=this.getFocusedModule();if(e&&e.__focusable__.unFocus(),null===t&&(t=this.defaultFocusable),!(t.__focusable__ instanceof ui))throw new Error("Module is not a Focusable instance.");var n=t.__focusable__.redirect();this.focusedModuleRef=new WeakRef(n),n.__focusable__.focus()}}])}(),ui=function(){return oi(function t(e){ni(this,t),this.module=e,this.focused=!1,this.redirectTo=null},[{key:"redirect",value:function(){var t;return(null===(t=this.redirectTo)||void 0===t?void 0:t.deref())||this.module}},{key:"setRedirection",value:function(t){this.redirectTo=t?new WeakRef(t):null}},{key:"focus",value:function(){this.focused=!0}},{key:"unFocus",value:function(){this.focused=!1}}])}();function si(t){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},si(t)}function ci(){var t=vi(),e=t.m(ci),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,li(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(ci=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new mi(t,e)},AsyncIterator:yi,async:function(t,e,n,o,a){return(r(e)?pi:hi)(i(t),e,n,o,a)},keys:fi,values:li}})()}function li(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(si(t)+" is not iterable")}function fi(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function hi(t,e,n,r,o){var i=pi(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function pi(t,e,n,r,o){return new yi(vi().w(t,e,n,r),o||Promise)}function yi(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof mi?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(di(yi.prototype),di(yi.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),di(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function vi(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return di(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(di(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,di(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,di(f,"constructor",c),di(c,"constructor",s),s.displayName="GeneratorFunction",di(c,o,"GeneratorFunction"),di(f),di(f,o,"Generator"),di(f,r,function(){return this}),di(f,"toString",function(){return"[object Generator]"}),(vi=function(){return{w:i,m:h}})()}function di(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}di=function(t,e,n,r){function i(e,n){di(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},di(t,e,n,r)}function mi(t,e){this.v=t,this.k=e}function bi(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function gi(t){return function(t){if(Array.isArray(t))return ki(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wi(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(t,e){if(t){if("string"==typeof t)return ki(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(t,e):void 0}}function ki(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Si(t,e,n){return gi(t.querySelectorAll(e)).forEach(n)}function Oi(t,e){Object.entries(e).forEach(function(e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||wi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=n[0],o=n[1];return t.style.setProperty(r,o)})}function xi(t,e,n,r,o,i){return ji.apply(this,arguments)}function ji(){return ji=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){bi(i,r,o,a,u,"next",t)}function u(t){bi(i,r,o,a,u,"throw",t)}a(void 0)})}}(ci().mark(function t(e,n,r,o,i,a){var u,s,c,l,f,h,p,y,v,d;return ci().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=a||"em",i&&(u=n.getBoundingClientRect(),r-=u.left,o-=u.top),e.style[o>=0?"top":"bottom"]="".concat(Math.abs(o)).concat(a),e.style[r>=0?"left":"right"]="".concat(Math.abs(r)).concat(a),n.appendChild(e),t.next=7,Ur(1);case 7:if(s=e.offsetWidth,c=e.offsetHeight,l=n.offsetWidth,f=n.offsetHeight,h=e.getBoundingClientRect(),p=h.left,y=h.top,v=h.bottom,d=h.right,p<0||y<0||v>f||d>l){t.next=12;break}return t.abrupt("return");case 12:v>f&&(e.style.top="".concat(f-c,"px")),d>l&&(e.style.left="".concat(l-s,"px"));case 14:case"end":return t.stop()}},t)})),ji.apply(this,arguments)}function Ei(t,e){var n,r;return null!==(n=null===(r=t.composedPath)||void 0===r?void 0:r.call(t).some(function(t){return t===e}))&&void 0!==n&&n}function Pi(t,e){var n,r;return null!==(n=null===(r=t.composedPath)||void 0===r?void 0:r.call(t).find(function(t){var n;return null===(n=t.matches)||void 0===n?void 0:n.call(t,e)}))&&void 0!==n?n:null}function Ti(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.h,n=void 0===e?0:e,r=t.s,o=void 0===r?0:r,i=t.l,a=void 0===i?0:i;return{h:"".concat(n,"deg"),s:"".concat(o,"%"),l:"".concat(a,"%")}}function Ai(t){var e=t.replace("#","");return{r:parseInt(e.substring(0,2),16)/255,g:parseInt(e.substring(2,4),16)/255,b:parseInt(e.substring(4,6),16)/255}}function _i(t){var e=Ai(t),n=e.r,r=e.g,o=e.b,i=Math.max(n,r,o),a=Math.min(n,r,o),u=0,s=0,c=(i+a)/2;if(i!==a){var l=i-a;switch(s=c>.5?l/(2-i-a):l/(i+a),i){case n:u=(r-o)/l+(r<o?6:0);break;case r:u=(o-n)/l+2;break;case o:u=(n-r)/l+4}u/=6}return{h:Math.round(360*u),s:Math.round(100*s),l:Math.round(100*c)}}function Mi(){var t,e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.h,i=void 0===o?0:o,a=r.s,u=void 0===a?0:a,s=r.l,c=void 0===s?0:s;if(i/=360,c/=100,0==(u/=100))t=e=n=c;else{var l=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},f=c<.5?c*(1+u):c+u-c*u,h=2*c-f;t=l(h,f,i+1/3),e=l(h,f,i),n=l(h,f,i-1/3)}var p=function(t){var e=Math.round(255*t).toString(16);return 1===e.length?"0"+e:e};return"#".concat(p(t)).concat(p(e)).concat(p(n))}function Ci(t){return t>1?"s":""}function Ii(t,e){for(var n=gi(t),r=n.length-1;r>0;r--){var o=Math.floor(Li(e)*(r+1)),i=[n[o],n[r]];n[r]=i[0],n[o]=i[1],e++}return n}function Li(t){var e=1e4*Math.sin(t++);return e-Math.floor(e)}function Ni(t){var e=t.toString(),n=e.length;if(n<4)return e;if(4===n)return e.slice(0,1)+","+e.slice(1);var r=e.slice(0,3),o=Math.floor(n/3);if(o>5)return"a lot";var i=n-3*o;return(i?r.slice(0,i)+"."+r.slice(i):r)+["h","k","m","b","t","q"][i?o:o-1]}function Ri(t){return Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(t)}function Di(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onDown,o=n.onUp,i=n.once,a=void 0!==i&&i,u=n.capture,s=void 0!==u&&u,c=n.label,l=void 0===c?"rightclick":c;if(t){if(!o)throw new Error("[ZyXInput] onUp required for RightClick");this.on(t).pointerDownMoveUp({label:l,onDown:function(n){var i=n.moveFuse,a=n.pointerDown,u=n.eventFuse;return null==r||r(n),Ps(t).delay("pointer-down",e.mobilePressHoldDelay,function(){i.true||a.false||u.false||e.kingOfTheStack(u,function(){return o(n)})}),!0},onUp:function(t){var n=t.up_e,r=t.moveFuse,i=t.eventFuse;if("mouse"===n.pointerType&&2===n.button){if(r.true||i.false)return;e.kingOfTheStack(i,function(){return o(t)})}},once:a,capture:s})}else console.warn("[ZyXInput] Invalid element for RightClick handler")}function Fi(t,e){var n=this,r=e.onClick,o=void 0===r?null:r,i=e.onDown,a=void 0===i?null:i,u=e.once,s=void 0!==u&&u,c=e.capture,l=void 0!==c&&c,f=e.stopPropagation,h=void 0!==f&&f,p=e.stopImmediatePropagation,y=void 0!==p&&p,v=e.preventDefault,d=void 0===v||v,m=e.label,b=void 0===m?"click":m,g=function(e){if(h&&e.stopPropagation(),y&&e.stopImmediatePropagation(),1===e.which){var r=n.beforePointerEvent("clickone",e);if(r){var i=new ga(!0,{label:b});n.activeEvents.add(i);var u=null==a?void 0:a({dwn_e:e,kingOfTheStack:function(t){return n.kingOfTheStack(i)}}),s=e.clientX,c=e.clientY,l=e.target,f=n.moveTripper({startX:s,startY:c}).check;o&&t.addEventListener("pointerup",function(t){!f(t)&&i.true&&t.target===l&&n.kingOfTheStack(i,function(){return o({dwn_e:e,up_e:t,down_return:u,eventFuse:i},r)})},{once:!0})}}};return t.addEventListener("pointerdown",g,{once:s,capture:l}),d&&t.addEventListener("click",function(t){return t.preventDefault()},{once:s,capture:l}),{unbind:function(){t.removeEventListener("pointerdown",g,{capture:l}),t.removeEventListener("click",function(t){return t.preventDefault()},{capture:l})}}}function Bi(t,e){var n=this;t&&"function"==typeof e?(t.setAttribute("click-enabled",""),t.addEventListener("pointerdown",function(r){if(!n.beforePointerEvent("custom-click",r))return nullifyEvent(r);t.addEventListener("click",function(){e()},{once:!0})})):console.warn("[ZyXInput] Invalid parameters for Click handler")}function Xi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.single,r=e.double,o=e.doubleWait,i=void 0!==o&&o,a=e.cooldown,u=e.cooldownDuration,s=void 0===u?this.clickOrTwoWindowMs:u,c=e.button,l=void 0===c?0:c,f=e.label,h=void 0===f?"click-or-two":f,p=(e.preventDefault,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),y=p.activeFuse,v=void 0===y?new ga:y,d=p.dblClickFuse,m=void 0===d?new ga:d,b=p.singleClickTimeout,g=void 0===b?null:b;t?this.on(t).pointerDownMoveUp({label:h,onDown:function(t){var e=t.dwn_e,n=t.moveFuse,r=t.pointerDown,o=t.eventFuse;if(!(a||n.true||r.false||o.false)&&e.button===l)return!0},onUp:function(t){var e=t.up_e,o=t.moveFuse,u=t.eventFuse;if(!("mouse"===e.pointerType&&e.button!==l||o.true||u.false)){if(v.true)return u.true&&(g&&(clearTimeout(g),g=null),r(t),a=setTimeout(function(){return a=null},s)),v.reset(),void m.reset();v.setTrue(),g=setTimeout(function(){v.true&&u.true&&n(t),v.reset(),g=null},i||s)}},once:!1,capture:!1}):console.warn("[ZyXInput] Invalid element for ClickOrTwo handler")}function zi(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onDown,o=n.onStartMove,i=n.onMove,a=n.onUp,u=n.once,s=void 0!==u&&u,c=n.deadzone,l=void 0===c?null:c,f=n.capture,h=void 0!==f&&f,p=n.captureMove,y=void 0!==p&&p,v=n.verbose,d=void 0!==v&&v,m=n.stopPropagation,b=void 0!==m&&m,g=n.stopImmediatePropagation,w=void 0!==g&&g,k=n.stopMovePropagation,S=void 0!==k&&k,O=n.stopImmediateMovePropagation,x=void 0!==O&&O,j=n.movePrecision,E=void 0===j?1:j,P=n.label,T=void 0===P?"pointerDownMoveUp":P;if(t){var A=function(n){if(l=l||e.moveTripperDist,!e.beforePointerEvent("pointerDownMoveUp",n))return!1;var u={startX:n.clientX,startY:n.clientY},s=u.eventFuse,c=void 0===s?new ga(!0,{label:T}):s,f=u.pointerDown,h=void 0===f?new ga(!0,{label:T}):f,p=u.startX,v=u.startY;e.activeEvents.add(c);var m=e.deadzone({startX:p,startY:v,deadzone:l}),g=m.moveFuse,k=m.check;b&&n.stopPropagation(),w&&n.stopImmediatePropagation();var O=n.composedPath(),j={},P=j.startAngle,A=void 0===P?null:P,_=j.moveCalledOnce,M=void 0!==_&&_,C=j.latest_move_e,I=void 0===C?null:C,L=j.startMove,N=j.pixels_moved,R=void 0===N?0:N,D=null==r?void 0:r({composedPath:O,dwn_e:n,moveFuse:g,pointerDown:h,eventFuse:c,kingOfTheStack:function(t){return e.kingOfTheStack(c)},pathContains:function(t){return Ei(n,t)},pathContainsMatching:function(t){return Pi(n,t)}});if(!D)return!1;var F=function(t){return e=p,n=v,r=t.clientX-e,o=t.clientY-n,(i=Math.atan2(o,r)*(180/Math.PI))<0&&(i+=360),(i+=90)>=360&&(i-=360),i;var e,n,r,o,i},B=function(t){return Math.sqrt(Math.pow(t.clientX-p,2)+Math.pow(t.clientY-v,2))},X=function(t){return e=F(t),[0,90,180,270,0][Math.round(e/90)%4];var e},z=function(r){try{if(c.false)return d&&console.log({element:t},"eventFuse.false, returning"),Y();if(R++,E>1){if(R<E)return;R=0}if(I=r,!k(r))return;A||(A=F(r));var u={dwn_e:n,mv_e:r,startX:p,startY:v,startAngle:A,movementX:r.movementX,movementY:r.movementY,stop:Y,up:U,moveFuse:g,startMove:L,kingOfTheStack:function(t){return e.kingOfTheStack(c)},clearAllSelections:function(){return e.clearAllSelections()},fourAngleSnap:function(){return X(r)},angleFromStart:function(){return F(r)},distanceFromStart:function(){return B(r)},direction:function(){return Fo(F(r))}};if(S&&r.stopPropagation(),x&&r.stopImmediatePropagation(),M&&i)return i(u,D);if(o){if(!(L=o(u,D)))return!1;"object"===Ri(L)&&null!==L&&("onMove"in L&&(i=L.onMove),"onUp"in L&&(a=L.onUp))}e.kingOfTheStack(c),M=!0}catch(t){console.error("[ZyXInput] Error in move handler:",t)}},U=function(t){var e;h.setFalse(),Y(),null===(e=a)||void 0===e||e({dwn_e:n,up_e:t,composedPath:O,mv_e:I,startX:p,startY:v,startAngle:A,startMove:L,moveFuse:g,onStartMove:o,eventFuse:c,fourAngleSnap:function(){return X(t)},angleFromStart:function(){return F(t)},distanceFromStart:function(){return B(t)},direction:function(){return Fo(F(t))}},D)};document.addEventListener("pointermove",z,{capture:y}),document.addEventListener("pointerup",U),document.addEventListener("pointercancel",U);var Y=function(){document.removeEventListener("pointermove",z,{capture:y}),document.removeEventListener("pointerup",U),document.removeEventListener("pointercancel",U)}};return t.addEventListener("pointerdown",A,{once:s,capture:h}),{removeEventListener:function(){return t.removeEventListener("pointerdown",A,{capture:h})}}}console.warn("[ZyXInput] Invalid element for PointerDownMoveUp handler")}function Ui(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.onWheel,r=e.capture,o=void 0!==r&&r,i=e.passive,a=void 0!==i&&i;if(t&&"function"==typeof n){var u=function(t){n({whl_e:t,killPropagation:function(){t.stopPropagation(),t.stopImmediatePropagation()},pathContains:function(e){return Ei(t,e)},pathContainsMatching:function(e){return Pi(t,e)}})};return t.addEventListener("wheel",u,{capture:o,passive:a}),{unbind:function(){t.removeEventListener("wheel",u,{capture:o})}}}console.warn("[ZyXInput] Invalid parameters for Wheel handler")}function Yi(t){this.on(t).clickOrTwo({single:function(e){return window.open(t.href,"_blank")},double:function(e){return window.open(t.href,"_blank",["height=1400","width=1000","top=10","left=10"].join(","))}})}function qi(t){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(t)}function Wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gi(r.key),r)}}function Gi(t){var e=function(t){if("object"!=qi(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=qi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qi(e)?e:e+""}var Vi,Hi=function(){return function(t,e){return e&&Wi(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.scrollTarget,a=o.directions,u=void 0===a?"y":a,s=o.overrideDefaultScroll,c=void 0===s||s,l=o.onPointerMove,f=o.onWheel,h=o.onScroll,p=o.swapY,y=o.swapX;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n?(this.directions="x"===u?{x:!0,y:!1}:"y"===u?{x:!1,y:!0}:{x:!0,y:!0},this.container=n,this.scrollTarget=i||n,this.container._momentumScroll=this,this.swapY=p,this.swapX=y,this.velocityY=0,this.animating=!1,this.pointerDown=!1,this.direction="down",this.onScroll=h,this.velocityX=0,this.friction=.94,this.minVelocityY=1,this.maxVelIncr=20,this.maxVelocityY=400,this.minVelocityX=1,this.maxVelocityX=400,this.smallDeltaStep={floor:10,culm:0,culmLimit:10,tick:10},this.smallDeltaStepX={floor:10,culm:0,culmLimit:20,tick:20},this.tick_length=8,this.lastFramePerf=null,c&&this.container.addEventListener("wheel",function(t){f&&!f(t)||r.wheel(t)},{capture:!0,passive:!1}),this._setupPointerEvents(e,l)):console.warn("[ZyXInput] Invalid container for MomentumScroll")},[{key:"_setupPointerEvents",value:function(t,e){var n=this;t.on(this.container).pointerDownMoveUp({capture:!0,captureMove:!0,onDown:function(t){var e=t.dwn_e;return!n._checkPathForMomentumScroll(e)&&(n.pointerDown=!0,!0)},onStartMove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.direction,r=t.stop,o=t.clearAllSelections,i=e(),a="left"===i||"right"===i;return("up"===i||"down"===i)&&!n.directions.y||a&&!n.directions.x?r():(n.directions.y&&(o(),n.container.requestPointerLock()),!0)},onMove:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mv_e,o=t.movementY,i=t.movementX;if(r.stopPropagation(),r.stopImmediatePropagation(),!n.directions.y||0!==o||!n.directions.x||0!==i){n.container.classList.add("Scrolling"),null==e||e({mv_e:r,movementY:o,movementX:i});var a=r.shiftKey?1:.5;if(r.altKey&&(a/=4),n.directions.y){var u=o*-a;n.addVelocity(0,u)}if(n.directions.x){var s=i*-a;n.addVelocity(s,0)}}},onUp:function(){n.container.classList.remove("Scrolling"),document.exitPointerLock(),n.pointerDown=!1}})}},{key:"_checkPathForMomentumScroll",value:function(t){for(var e=t.composedPath(),n=0;n<e.length;n++){var r=e[n];if(r===this.container)break;if(r._momentumScroll)return!0}return!1}},{key:"__animate__",value:function(){!this.animating&&(this.animating=!0)&&requestAnimationFrame(this.__frame__.bind(this))}},{key:"__framedelta__",value:function(){var t=performance.now();if(null===this.lastFramePerf)return this.lastFramePerf=t,0;var e=t-this.lastFramePerf;return this.lastFramePerf=t,e/this.tick_length}},{key:"__frame__",value:function(){var t,e=this.__framedelta__();if(0!==e){var n=this.pointerDown?.95*this.friction:this.friction,r=Math.pow(n,e),o=0,i=0,a=0,u=0;this.directions.y&&(this.velocityY*=r,u=Math.abs(this.velocityY),i=this.velocityY*e,this.scrollTarget.scrollTop+=i),this.directions.x&&(this.velocityX*=r,a=Math.abs(this.velocityX),o=this.velocityX*e,this.scrollTarget.scrollLeft+=o),null===(t=this.onScroll)||void 0===t||t.call(this,{deltaX:o,deltaY:i});var s,c=!this.directions.y||u<this.minVelocityY;if((!this.directions.x||a<this.minVelocityX)&&c)return this.lastFramePerf=null,this.animating=!1,void(null===(s=this.onScroll)||void 0===s||s.call(this,{deltaX:0,deltaY:0}));this.animating&&requestAnimationFrame(this.__frame__.bind(this))}else this.animating&&requestAnimationFrame(this.__frame__.bind(this))}},{key:"checkCounterScroll",value:function(t){this.directions.y&&(t.deltaY>0&&this.velocityY<0||t.deltaY<0&&this.velocityY>0)&&(this.velocityY/=10),this.directions.x&&(t.deltaX>0&&this.velocityX<0||t.deltaX<0&&this.velocityX>0)&&(this.velocityX/=10)}},{key:"resetVelocity",value:function(){this.directions.y&&(this.velocityY/=10),this.directions.x&&(this.velocityX/=10),this.__animate__()}},{key:"slowStop",value:function(){console.log("> slowStop",this.velocityY,this.velocityX),this.velocityY/=4,this.velocityX/=4,console.log("slowStop >",this.velocityY,this.velocityX)}},{key:"addVelocity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.directions.y&&0!==e&&((e>0&&this.velocityY<0||e<0&&this.velocityY>0)&&(this.velocityY/=10),this.velocityY=Math.max(-this.maxVelocityY,Math.min(this.velocityY+e,this.maxVelocityY))),this.directions.x&&0!==t&&((t>0&&this.velocityX<0||t<0&&this.velocityX>0)&&(this.velocityX/=10),this.velocityX=Math.max(-this.maxVelocityX,Math.min(this.velocityX+t,this.maxVelocityX))),this.__animate__()}},{key:"wheel",value:function(t){if(!this._checkPathForMomentumScroll(t)){t.preventDefault(),t.stopPropagation(),this.checkCounterScroll(t);var e=t.deltaX,n=t.deltaY;this.swapY&&(e=t.deltaY),this.swapX&&(n=t.deltaX),this.direction=n>0?"down":"up";var r=0,o=0;this.directions.y&&0!==n?Math.abs(n)<this.smallDeltaStep.floor?(this.smallDeltaStep.culm+=n,Math.abs(this.smallDeltaStep.culm)>this.smallDeltaStep.culmLimit&&(o=this.smallDeltaStep.tick*(n>0?1:-1),this.smallDeltaStep.culm=0)):(o=.1*n,this.smallDeltaStep.culm=0):this.smallDeltaStep.culm=0,this.directions.x&&0!==e?Math.abs(e)<this.smallDeltaStepX.floor?(this.smallDeltaStepX.culm+=e,Math.abs(this.smallDeltaStepX.culm)>this.smallDeltaStepX.culmLimit&&(r=this.smallDeltaStepX.tick*(e>0?1:-1),this.smallDeltaStepX.culm=0)):(r=.1*e,this.smallDeltaStepX.culm=0):this.smallDeltaStepX.culm=0,0===r&&0===o||this.addVelocity(r,o)}}}])}();function $i(t){return $i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(t)}function Ki(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Zi(t,e,n){return(e=ta(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ji(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ta(r.key),r)}}function ta(t){var e=function(t){if("object"!=$i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$i(e)?e:e+""}var ea=function(){return function(t,e){return e&&Qi(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.input_binder=e,this.tapsToExit=3,this.backPresses=this.tapsToExit,this.onBack=[],window.history.pushState({},""),window.addEventListener("popstate",function(){return n.handleBackButton()}),this._createTapIndicator()},[{key:"_createTapIndicator",value:function(){on(Vi||(Vi=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n            <div this="tap_indicator" class="tap-to-exit-confirm">\n                <div class="tap-to-exit-label" this="nth">Go back '," more times to exit app.</div>\n            </div>\n        "])),this.tapsToExit).bind(this)}},{key:"handleBackButton",value:function(){var t,e=this,n=this.onBack.sort(function(t,e){return t.weight>e.weight?1:-1});this.onBack=this.onBack.filter(function(t){return t.cb.deref()});var r,o,i,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ji(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ji(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(n);try{for(a.s();!(r=a.n()).done;){var u=r.value.cb.deref();if(u&&u())return void window.history.pushState({},"")}}catch(t){a.e(t)}finally{a.f()}this.backPresses<3&&(null===(o=(i=window.navigator).vibrate)||void 0===o||o.call(i,300)),Ps(this).delay("back-panic",700,function(){var t;e.backPresses=e.tapsToExit,window.history.pushState({},""),null===(t=e.tap_indicator)||void 0===t||t.classList.remove("visible")}),null===(t=this.tap_indicator)||void 0===t||t.classList.add("visible");var s=Math.max(1,this.backPresses);if(this.nth.textContent="Go back ".concat(s," more time").concat(s>1?"s":""," to exit app."),this.backPresses--,this.backPresses<=0)return js(),window.history.back();window.history.pushState({},"")}},{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"function"==typeof t?this.onBack.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ki(Object(n),!0).forEach(function(e){Zi(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({cb:new WeakRef(t),weight:0},e)):console.warn("[ZyXInput] Invalid callback for BackHandler.on()")}}])}();function na(t){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(t)}function ra(){var t=ca(),e=t.m(ra),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,oa(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(ra=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new fa(t,e)},AsyncIterator:sa,async:function(t,e,n,o,a){return(r(e)?ua:aa)(i(t),e,n,o,a)},keys:ia,values:oa}})()}function oa(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(na(t)+" is not iterable")}function ia(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function aa(t,e,n,r,o){var i=ua(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function ua(t,e,n,r,o){return new sa(ca().w(t,e,n,r),o||Promise)}function sa(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof fa?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(la(sa.prototype),la(sa.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),la(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function ca(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return la(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(la(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,la(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,la(f,"constructor",c),la(c,"constructor",s),s.displayName="GeneratorFunction",la(c,o,"GeneratorFunction"),la(f),la(f,o,"Generator"),la(f,r,function(){return this}),la(f,"toString",function(){return"[object Generator]"}),(ca=function(){return{w:i,m:h}})()}function la(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}la=function(t,e,n,r){function i(e,n){la(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},la(t,e,n,r)}function fa(t,e){this.v=t,this.k=e}function ha(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function pa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ya(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function va(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ma(r.key),r)}}function da(t,e,n){return e&&va(t.prototype,e),n&&va(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ma(t){var e=function(t){if("object"!=na(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=na(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==na(e)?e:e+""}var ba=function(){return da(function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.customQueryFunc,o=n.customClearSelections,i=n.onKeyPress,a=void 0===i?null:i;ya(this,t),this.onKeyPress=a,this.customQueryFunc=r,this.customClearSelections=o,this.enabledDefaults=["Tab","Esc","F5","F11","F12","KeyI","KeyC","KeyV","KeyX"],this._initializeEventListeners(),this.mouse={x:0,y:0,pointerDown:!1},this.activeEvents=new ft,this.openModals=new ft,this.listenToController=!1,this.clickOrTwoWindowMs=250,this.moveTripperDist=10,this.mobilePressHoldDelay=550,this.backHandler=new ea(this),this.backHandler.on(function(t){return e.processModalEvent()},{weight:1e3})},[{key:"_initializeEventListeners",value:function(){var t=this;document.addEventListener("keypress",function(e){return t.keyEvent("keypress",e)}),document.addEventListener("keydown",function(e){return t.keyEvent("keydown",e)}),document.addEventListener("keyup",function(e){return t.keyEvent("keyup",e)}),document.addEventListener("pointermove",function(e){return t._updateMousePosition(e)}),document.addEventListener("pointerdown",function(e){return t._updateMousePosition(e,!0)}),document.addEventListener("pointerup",function(e){return t.mouse.pointerDown=!1}),document.addEventListener("pointerleave",function(e){return t.mouse.pointerDown=!1}),document.addEventListener("contextmenu",function(t){if(t.shiftKey||Pi(t,"[can-contextmenu]"))return!1;!function(t){t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault()}(t)}),this.on(document).dragstart(function(t){})}},{key:"_updateMousePosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.mouse.x=t.clientX,this.mouse.y=t.clientY,e&&(this.mouse.pointerDown=!0)}},{key:"on",value:function(t){var n=this;return new Proxy(e,{get:function(e,r){return n.customEventHandlers(t,r)}})}},{key:"customEventHandlers",value:function(t,n){var r=this;if(e[n])return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e[n].bind(r).apply(void 0,[t].concat(i))};switch(n){case"pointerdown":case"pointerup":case"dragstart":return function(e){t.addEventListener(n,function(t){var o=r.beforePointerEvent(n,t);e(t,o)})};default:throw new Error("Event function ".concat(n,"(elem, ...args) not found in ZyXInput.presets"))}}},{key:"bindMomentumScroll",value:function(t,e){return new Hi(this,t,e)}},{key:"queryApplication",value:function(t){var e;return(null==this||null===(e=this.customQueryFunc)||void 0===e?void 0:e.call(this,t))||document.querySelectorAll(t)}},{key:"clearAllSelections",value:function(){var t;(null==this||null===(t=this.customClearSelections)||void 0===t?void 0:t.call(this))||window.getSelection().removeAllRanges()}},{key:"nullAllEvents",value:function(){this.activeEvents.clear()}},{key:"kingOfTheStack",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return pa(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this.activeEvents.get());try{for(r.s();!(n=r.n()).done;){var o=n.value;o!==t&&o.setFalse()}}catch(t){r.e(t)}finally{r.f()}null==e||e(),this.nullAllEvents()}},{key:"beforePointerEvent",value:function(t,e){switch(t){case"pointerDownMoveUp":case"pointerdown":case"dragstart":case"custom-click":case"clickone":case"clickortwo":if(this.processModalEvent(e))return!1;default:return!0}}},{key:"processModalEvent",value:function(t){var e=this.openModals.get();return e.length<0||e.length>0&&(!t||!Pi(t,"[is-modal]"))&&(e.forEach(function(t){return t.clickedOutside(t)}),this.nullAllEvents(),null==t||t.stopPropagation(),null==t||t.stopImmediatePropagation(),this.openModals.clear(),!0)}},{key:"isolateEventWithinContainer",value:function(t,e){return this.openModals.add(t),t.setAttribute("is-modal",""),t.clickedOutside=e.bind(t),e}},{key:"unisolateEventWithinContainer",value:function(t){this.openModals.delete(t),t.removeAttribute("is-modal")}},{key:"moveTripper",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.startX,n=t.startY,r=t.deadzone,o=this.deadzone({startX:e,startY:n,deadzone:r}),i=o.moveFuse,a=o.check;return document.addEventListener("pointermove",a),document.addEventListener("pointerup",function(){return document.removeEventListener("pointermove",a)},{once:!0}),{moveFuse:i,check:a}}},{key:"deadzone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.startX,n=t.startY,r=t.deadzone,o=void 0===r?this.moveTripperDist:r,i=t.moveFuse,a=void 0===i?new ga:i;return{moveFuse:a,check:function(t){return Math.hypot(t.clientX-e,t.clientY-n)>o&&a.setTrue(),a.true}}}},{key:"keyEvent",value:(t=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){ha(i,r,o,a,u,"next",t)}function u(t){ha(i,r,o,a,u,"throw",t)}a(void 0)})}}(ra().mark(function t(e,n){var r;return ra().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,"key"in n){t.next=3;break}return t.abrupt("return");case 3:if(!(n.ctrlKey||n.metaKey||this.queryApplication("input:focus,textarea:focus").length>0)){t.next=5;break}return t.abrupt("return",!1);case 5:n.joy||this.enabledDefaults.includes(n.code)||(n.preventDefault(),n.stopPropagation()),null==this||null===(r=this.onKeyPress)||void 0===r||r.call(this,e,n),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),console.error("[Key Event Error]",{event:e,e:n,error:t.t0}),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])})),function(e,n){return t.apply(this,arguments)})},{key:"socketXinputEvent",value:function(t){if(this.listenToController){var e=1===t.pressed?"keydown":"keyup";this.keyEvent(e,{joy:!0,key:wa[t.button]})}}}]);var t}(),ga=function(){return da(function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ya(this,t),this.true=e,this.false=!e},[{key:"reset",value:function(t){return this.true=!1,this.false=!0,"function"==typeof t&&t(),this}},{key:"falseTrue",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return this.true?e.apply(void 0,r):t.apply(void 0,r),this}},{key:"setTrue",value:function(){return this.true=!0,this.false=!1,this}},{key:"setFalse",value:function(){return this.true=!1,this.false=!0,this}}])}(),wa={1:"x-uppad",2:"x-downpad",3:"x-leftpad",4:"x-rightpad",5:"x-menu",6:"x-start",7:"x-rightjoy",8:"x-leftjoy",9:"x-leftbumper",10:"x-rightbumper",13:"x-A",14:"x-X",15:"x-B",16:"x-Y"};function ka(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Sa(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sa(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Oa(t){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(t)}function xa(){return xa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Na(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},xa.apply(null,arguments)}function ja(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pa(r.key),r)}}function Ea(t,e,n){return e&&ja(t.prototype,e),n&&ja(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pa(t){var e=function(t){if("object"!=Oa(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Oa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Oa(e)?e:e+""}function Ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aa(t,e,n){return e=Na(e),function(t,e){if(e&&("object"==Oa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _a(t)}(t,Ia()?Reflect.construct(e,n||[],Na(t).constructor):e.apply(t,n))}function _a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ma(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&La(t,e)}function Ca(t){var e="function"==typeof Map?new Map:void 0;return Ca=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(Ia())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&La(o,n.prototype),o}(t,arguments,Na(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),La(n,t)},Ca(t)}function Ia(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ia=function(){return!!t})()}function La(t,e){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},La(t,e)}function Na(t){return Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Na(t)}var Ra=Object.create(null);Ra.open="0",Ra.close="1",Ra.ping="2",Ra.pong="3",Ra.message="4",Ra.upgrade="5",Ra.noop="6";var Da=Object.create(null);Object.keys(Ra).forEach(function(t){Da[Ra[t]]=t});for(var Fa={type:"error",data:"parser error"},Ba="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Xa="function"==typeof ArrayBuffer,za=function(t,e,n){var r,o=t.type,i=t.data;return Ba&&i instanceof Blob?e?n(i):Ua(i,n):Xa&&(i instanceof ArrayBuffer||(r=i,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?e?n(i):Ua(new Blob([i]),n):n(Ra[o]+(i||""))},Ua=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)},Ya="undefined"==typeof Uint8Array?[]:new Uint8Array(256),qa=0;qa<64;qa++)Ya["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(qa)]=qa;var Wa="function"==typeof ArrayBuffer,Ga=function(t,e){if("string"!=typeof t)return{type:"message",data:Ha(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:Va(t.substring(1),e)}:Da[n]?t.length>1?{type:Da[n],data:t.substring(1)}:{type:Da[n]}:Fa},Va=function(t,e){if(Wa){var n=function(t){var e,n,r,o,i,a=.75*t.length,u=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(e=0;e<u;e+=4)n=Ya[t.charCodeAt(e)],r=Ya[t.charCodeAt(e+1)],o=Ya[t.charCodeAt(e+2)],i=Ya[t.charCodeAt(e+3)],l[s++]=n<<2|r>>4,l[s++]=(15&r)<<4|o>>2,l[s++]=(3&o)<<6|63&i;return c}(t);return Ha(n,e)}return{base64:!0,data:t}},Ha=function(t,e){return"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t},$a=String.fromCharCode(30);function Ka(t){if(t)return function(t){for(var e in Ka.prototype)t[e]=Ka.prototype[e];return t}(t)}Ka.prototype.on=Ka.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Ka.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Ka.prototype.off=Ka.prototype.removeListener=Ka.prototype.removeAllListeners=Ka.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},Ka.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e)}return this},Ka.prototype.emitReserved=Ka.prototype.emit,Ka.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Ka.prototype.hasListeners=function(t){return!!this.listeners(t).length};var Za="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Ja(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Qa=setTimeout,tu=clearTimeout;function eu(t,e){e.useNativeTimers?(t.setTimeoutFn=Qa.bind(Za),t.clearTimeoutFn=tu.bind(Za)):(t.setTimeoutFn=setTimeout.bind(Za),t.clearTimeoutFn=clearTimeout.bind(Za))}var nu,ru=function(){function t(e,n,r){var o;return Ta(this,t),(o=Aa(this,t,[e])).description=n,o.context=r,o.type="TransportError",o}return Ma(t,Ca(Error)),Ea(t)}(),ou=function(){function t(e){var n;return Ta(this,t),(n=Aa(this,t)).writable=!1,eu(_a(n),e),n.opts=e,n.query=e.query,n.readyState="",n.socket=e.socket,n}return Ma(t,Ka),Ea(t,[{key:"onError",value:function(e,n,r){return xa(Na(t.prototype),"emitReserved",this).call(this,"error",new ru(e,n,r)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){"open"===this.readyState&&this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,xa(Na(t.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(t){var e=Ga(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(e){xa(Na(t.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",xa(Na(t.prototype),"emitReserved",this).call(this,"close",e)}}])}(),iu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),au={},uu=0,su=0;function cu(t){var e="";do{e=iu[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function lu(){var t=cu(+new Date);return t!==nu?(uu=0,nu=t):t+"."+cu(uu++)}for(;su<64;su++)au[iu[su]]=su;function fu(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}var hu=!1;try{hu="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Ra){}var pu=hu;function yu(t){var e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||pu))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Za[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function vu(){}var du=null!=new yu({xdomain:!1}).responseType,mu=function(){function t(e,n){var r;return Ta(this,t),eu(_a(r=Aa(this,t)),n),r.opts=n,r.method=n.method||"GET",r.uri=e,r.async=!1!==n.async,r.data=void 0!==n.data?n.data:null,r.create(),r}return Ma(t,Ka),Ea(t,[{key:"create",value:function(){var e=this,n=Ja(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd,n.xscheme=!!this.opts.xs;var r=this.xhr=new yu(n);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}catch(n){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{r.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn(function(){e.onError("number"==typeof r.status?r.status:0)},0))},r.send(this.data)}catch(n){return void this.setTimeoutFn(function(){e.onError(n)},0)}"undefined"!=typeof document&&(this.index=t.requestsCount++,t.requests[this.index]=this)}},{key:"onError",value:function(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=vu,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete t.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}])}();function bu(){for(var t in mu.requests)mu.requests.hasOwnProperty(t)&&mu.requests[t].abort()}mu.requestsCount=0,mu.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",bu):"function"==typeof addEventListener&&addEventListener("onpagehide"in Za?"pagehide":"unload",bu,!1));var gu="function"==typeof Promise&&"function"==typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},wu=Za.WebSocket||Za.MozWebSocket,ku="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Su={websocket:function(){function t(e){var n;return Ta(this,t),(n=Aa(this,t,[e])).supportsBinary=!e.forceBase64,n}return Ma(t,ou),Ea(t,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=ku?{}:Ja(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=ku?new wu(t,e,n):e?new wu(t,e):new wu(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=function(e){return t.onClose({description:"websocket connection closed",context:e})},this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=function(){var n=t[r],o=r===t.length-1;za(n,e.supportsBinary,function(t){try{e.ws.send(t)}catch(t){}o&&gu(function(){e.writable=!0,e.emitReserved("drain")},e.setTimeoutFn)})},r=0;r<t.length;r++)n()}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=lu()),this.supportsBinary||(t.b64=1);var r=fu(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!wu}}])}(),polling:function(){function t(e){var n;if(Ta(this,t),(n=Aa(this,t,[e])).polling=!1,"undefined"!=typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?"443":"80"),n.xd="undefined"!=typeof location&&e.hostname!==location.hostname||o!==e.port,n.xs=e.secure!==r}var i=e&&e.forceBase64;return n.supportsBinary=du&&!i,_a(n)}return Ma(t,ou),Ea(t,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;this.readyState="pausing";var n=function(){e.readyState="paused",t()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(t){var e=this;(function(t,e){for(var n=t.split($a),r=[],o=0;o<n.length;o++){var i=Ga(n[o],e);if(r.push(i),"error"===i.type)break}return r})(t,this.socket.binaryType).forEach(function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose({description:"transport closed by the server"}),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,function(t){var n=t.length,r=new Array(n),o=0;t.forEach(function(t,i){za(t,!1,function(t){r[i]=t,++o===n&&function(t){e.doWrite(t,function(){e.writable=!0,e.emitReserved("drain")})}(r.join($a))})})}(t)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=lu()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=fu(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new mu(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this,r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",function(t,e){n.onError("xhr post error",t,e)})}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",function(e,n){t.onError("xhr poll error",e,n)}),this.pollXhr=e}}])}()},Ou=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,xu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ju(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var o=Ou.exec(t||""),i={},a=14;a--;)i[xu[a]]=o[a]||"";return-1!=n&&-1!=r&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(t,e){var n=e.replace(/\/{2,9}/g,"/").split("/");return"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1),"/"==e.slice(-1)&&n.splice(n.length-1,1),n}(0,i.path),i.queryKey=function(t,e){var n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,e,r){e&&(n[e]=r)}),n}(0,i.query),i}var Eu=function(){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ta(this,t),n=Aa(this,t),e&&"object"==Oa(e)&&(r=e,e=null),e?(e=ju(e),r.hostname=e.host,r.secure="https"===e.protocol||"wss"===e.protocol,r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=ju(r.host).host),eu(_a(n),r),n.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=n.secure?"443":"80"),n.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),n.port=r.port||("undefined"!=typeof location&&location.port?location.port:n.secure?"443":"80"),n.transports=r.transports||["polling","websocket"],n.readyState="",n.writeBuffer=[],n.prevBufferLen=0,n.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),n.opts.path=n.opts.path.replace(/\/$/,"")+"/","string"==typeof n.opts.query&&(n.opts.query=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}(n.opts.query)),n.id=null,n.upgrades=null,n.pingInterval=null,n.pingTimeout=null,n.pingTimeoutTimer=null,"function"==typeof addEventListener&&(n.opts.closeOnBeforeunload&&(n.beforeunloadEventListener=function(){n.transport&&(n.transport.removeAllListeners(),n.transport.close())},addEventListener("beforeunload",n.beforeunloadEventListener,!1)),"localhost"!==n.hostname&&(n.offlineEventListener=function(){n.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",n.offlineEventListener,!1))),n.open(),n}return Ma(t,Ka),Ea(t,[{key:"createTransport",value:function(t){var e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);var n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Su[t](n)}},{key:"open",value:function(){var e,n=this;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(function(){n.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(t){return e.onClose("transport close",t)})}},{key:"probe",value:function(e){var n=this,r=this.createTransport(e),o=!1;t.priorWebsocketSuccess=!1;var i=function(){o||(r.send([{type:"ping",data:"probe"}]),r.once("packet",function(e){if(!o)if("pong"===e.type&&"probe"===e.data){if(n.upgrading=!0,n.emitReserved("upgrading",r),!r)return;t.priorWebsocketSuccess="websocket"===r.name,n.transport.pause(function(){o||"closed"!==n.readyState&&(f(),n.setTransport(r),r.send([{type:"upgrade"}]),n.emitReserved("upgrade",r),r=null,n.upgrading=!1,n.flush())})}else{var i=new Error("probe error");i.transport=r.name,n.emitReserved("upgradeError",i)}}))};function a(){o||(o=!0,f(),r.close(),r=null)}var u=function(t){var e=new Error("probe error: "+t);e.transport=r.name,a(),n.emitReserved("upgradeError",e)};function s(){u("transport closed")}function c(){u("socket closed")}function l(t){r&&t.name!==r.name&&a()}var f=function(){r.removeListener("open",i),r.removeListener("error",u),r.removeListener("close",s),n.off("close",c),n.off("upgrading",l)};r.once("open",i),r.once("error",u),r.once("close",s),this.once("close",c),this.once("upgrading",l),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,n=this.upgrades.length;e<n;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}},{key:"onHandshake",value:function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){t.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var t,e=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(t){for(var e=0,n=0,r=0,o=t.length;r<o;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var t=this,e=function(){t.onClose("forced close"),t.transport.close()},n=function n(){t.off("upgrade",n),t.off("upgradeError",n),e()},r=function(){t.once("upgrade",n),t.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){t.upgrading?r():e()}):this.upgrading?r():e()),this}},{key:"onError",value:function(e){t.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}])}();Eu.protocol=4;var Pu,Tu="function"==typeof ArrayBuffer,Au=Object.prototype.toString,_u="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Au.call(Blob),Mu="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Au.call(File);function Cu(t){return Tu&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))||_u&&t instanceof Blob||Mu&&t instanceof File}function Iu(t,e){if(!t||"object"!=Oa(t))return!1;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(Iu(t[n]))return!0;return!1}if(Cu(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return Iu(t.toJSON(),!0);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&Iu(t[o]))return!0;return!1}function Lu(t){var e=[],n=t.data,r=t;return r.data=Nu(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Nu(t,e){if(!t)return t;if(Cu(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=Nu(t[o],e);return r}if("object"==Oa(t)&&!(t instanceof Date)){var i={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=Nu(t[a],e));return i}return t}function Ru(t,e){return t.data=Du(t.data,e),t.attachments=void 0,t}function Du(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Du(t[n],e);else if("object"==Oa(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Du(t[r],e));return t}!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Pu||(Pu={}));var Fu=function(){function t(e){var n;return Ta(this,t),(n=Aa(this,t)).reviver=e,n}return Ma(t,Ka),Ea(t,[{key:"add",value:function(e){var n;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");(n=this.decodeString(e)).type===Pu.BINARY_EVENT||n.type===Pu.BINARY_ACK?(this.reconstructor=new Bu(n),0===n.attachments&&xa(Na(t.prototype),"emitReserved",this).call(this,"decoded",n)):xa(Na(t.prototype),"emitReserved",this).call(this,"decoded",n)}else{if(!Cu(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,xa(Na(t.prototype),"emitReserved",this).call(this,"decoded",n))}}},{key:"decodeString",value:function(e){var n=0,r={type:Number(e.charAt(0))};if(void 0===Pu[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Pu.BINARY_EVENT||r.type===Pu.BINARY_ACK){for(var o=n+1;"-"!==e.charAt(++n)&&n!=e.length;);var i=e.substring(o,n);if(i!=Number(i)||"-"!==e.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(n+1)){for(var a=n+1;++n&&","!==e.charAt(n)&&n!==e.length;);r.nsp=e.substring(a,n)}else r.nsp="/";var u=e.charAt(n+1);if(""!==u&&Number(u)==u){for(var s=n+1;++n;){var c=e.charAt(n);if(null==c||Number(c)!=c){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){var l=this.tryParse(e.substr(n));if(!t.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return r}},{key:"tryParse",value:function(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(t,e){switch(t){case Pu.CONNECT:return"object"==Oa(e);case Pu.DISCONNECT:return void 0===e;case Pu.CONNECT_ERROR:return"string"==typeof e||"object"==Oa(e);case Pu.EVENT:case Pu.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case Pu.ACK:case Pu.BINARY_ACK:return Array.isArray(e)}}}])}(),Bu=function(){return Ea(function t(e){Ta(this,t),this.packet=e,this.buffers=[],this.reconPack=e},[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=Ru(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}])}(),Xu=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Pu},Encoder:function(){return Ea(function t(e){Ta(this,t),this.replacer=e},[{key:"encode",value:function(t){return t.type!==Pu.EVENT&&t.type!==Pu.ACK||!Iu(t)?[this.encodeAsString(t)]:(t.type=t.type===Pu.EVENT?Pu.BINARY_EVENT:Pu.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==Pu.BINARY_EVENT&&t.type!==Pu.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}},{key:"encodeAsBinary",value:function(t){var e=Lu(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}])}(),Decoder:Fu});function zu(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Uu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Yu=function(){function t(e,n,r){var o;return Ta(this,t),(o=Aa(this,t)).connected=!1,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=n,r&&r.auth&&(o.auth=r.auth),o.io._autoConnect&&o.open(),o}return Ma(t,Ka),Ea(t,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[zu(t,"open",this.onopen.bind(this)),zu(t,"packet",this.onpacket.bind(this)),zu(t,"error",this.onerror.bind(this)),zu(t,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if(Uu.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.unshift(t);var o={type:Pu.EVENT,data:n,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){var i=this.ids++,a=n.pop();this._registerAckCallback(i,a),o.id=i}var u=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!u||!this.connected)||(this.connected?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}},{key:"_registerAckCallback",value:function(t,e){var n=this,r=this.flags.timeout;if(void 0!==r){var o=this.io.setTimeoutFn(function(){delete n.acks[t];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===t&&n.sendBuffer.splice(r,1);e.call(n,new Error("operation has timed out"))},r);this.acks[t]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n.io.clearTimeoutFn(o),e.apply(n,[null].concat(r))}}else this.acks[t]=e}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth(function(e){t.packet({type:Pu.CONNECT,data:e})}):this.packet({type:Pu.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case Pu.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pu.EVENT:case Pu.BINARY_EVENT:this.onevent(t);break;case Pu.ACK:case Pu.BINARY_ACK:this.onack(t);break;case Pu.DISCONNECT:this.ondisconnect();break;case Pu.CONNECT_ERROR:this.destroy();var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var n,r=ka(this._anyListeners.slice());try{for(r.s();!(n=r.n()).done;)n.value.apply(this,e)}catch(t){r.e(t)}finally{r.f()}}xa(Na(t.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n||(n=!0,e.packet({type:Pu.ACK,id:t,data:o}))}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach(function(e){return t.emitEvent(e)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(e){t.notifyOutgoingListeners(e),t.packet(e)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(t){return t()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:Pu.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(t){return this.flags.timeout=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}},{key:"prependAnyOutgoing",value:function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}},{key:"offAnyOutgoing",value:function(t){if(!this._anyOutgoingListeners)return this;if(t){for(var e=this._anyOutgoingListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var e,n=ka(this._anyOutgoingListeners.slice());try{for(n.s();!(e=n.n()).done;)e.value.apply(this,t.data)}catch(t){n.e(t)}finally{n.f()}}}}])}();function qu(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}qu.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+n:t-n}return 0|Math.min(t,this.max)},qu.prototype.reset=function(){this.attempts=0},qu.prototype.setMin=function(t){this.ms=t},qu.prototype.setMax=function(t){this.max=t},qu.prototype.setJitter=function(t){this.jitter=t};var Wu=function(){function t(e,n){var r,o;Ta(this,t),(r=Aa(this,t)).nsps={},r.subs=[],e&&"object"==Oa(e)&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",r.opts=n,eu(_a(r),n),r.reconnection(!1!==n.reconnection),r.reconnectionAttempts(n.reconnectionAttempts||1/0),r.reconnectionDelay(n.reconnectionDelay||1e3),r.reconnectionDelayMax(n.reconnectionDelayMax||5e3),r.randomizationFactor(null!==(o=n.randomizationFactor)&&void 0!==o?o:.5),r.backoff=new qu({min:r.reconnectionDelay(),max:r.reconnectionDelayMax(),jitter:r.randomizationFactor()}),r.timeout(null==n.timeout?2e4:n.timeout),r._readyState="closed",r.uri=e;var i=n.parser||Xu;return r.encoder=new i.Encoder,r.decoder=new i.Decoder,r._autoConnect=!1!==n.autoConnect,r._autoConnect&&r.open(),r}return Ma(t,Ka),Ea(t,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Eu(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var o=zu(n,"open",function(){r.onopen(),t&&t()}),i=zu(n,"error",function(n){r.cleanup(),r._readyState="closed",e.emitReserved("error",n),t?t(n):r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;0===a&&o();var u=this.setTimeoutFn(function(){o(),n.close(),n.emit("error",new Error("timeout"))},a);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}return this.subs.push(o),this.subs.push(i),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(zu(t,"ping",this.onping.bind(this)),zu(t,"data",this.ondata.bind(this)),zu(t,"error",this.onerror.bind(this)),zu(t,"close",this.onclose.bind(this)),zu(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(t){var e=this;gu(function(){e.emitReserved("packet",t)},this.setTimeoutFn)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new Yu(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var r=n[e];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach(function(t){return t()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn(function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}])}(),Gu={};function Vu(t,e){"object"==Oa(t)&&(e=t,t=void 0);var n,r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=ju(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),o=r.source,i=r.id,a=r.path,u=Gu[i]&&a in Gu[i].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||u?n=new Wu(o,e):(Gu[i]||(Gu[i]=new Wu(o,e)),n=Gu[i]),r.query&&!e.query&&(e.query=r.queryKey),n.socket(r.path,e)}function Hu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ku(t){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(t)}function Zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ju(t,e,n){return(e=ts(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ts(r.key),r)}}function ts(t){var e=function(t){if("object"!=Ku(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ku(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ku(e)?e:e+""}Object.assign(Vu,{Manager:Wu,Socket:Yu,io:Vu,connect:Vu});var es=function(){return function(t,e){return e&&Qu(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.endpointUrl,r=e.events,o=void 0===r?{}:r,i=e.autoConnect,a=void 0===i||i,u=e.debug,s=void 0!==u&&u,c=e.socketOptions,l=void 0===c?{}:c;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!n)throw new Error("endpointUrl is required");this.endpointUrl=n,this.debug=s,this.socketOptions=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zu(Object(n),!0).forEach(function(e){Ju(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3},l),this.sio=Vu(this.endpointUrl,this.socketOptions),this.extendedEvents={},this.rooms=new Set,this.setupConnectionHandlers(),this.bind(o),a&&this.connect()},[{key:"setupConnectionHandlers",value:function(){var t=this;this.sio.on("connect",function(){t.debug&&console.log("[socketio] Connected to server"),t.connected()}),this.sio.on("disconnect",function(e){t.debug&&console.log("[socketio] Disconnected from server:",e),t.extendedEvents.disconnected&&t.extendedEvents.disconnected(e)}),this.sio.on("connect_error",function(e){t.debug&&console.error("[socketio] Connection error:",e),t.extendedEvents.error&&t.extendedEvents.error(e)})}},{key:"connect",value:function(){this.sio.connected||this.sio.connect()}},{key:"disconnect",value:function(){this.sio.disconnect()}},{key:"connected",value:function(){this.extendedEvents.connected&&this.extendedEvents.connected()}},{key:"join",value:function(t){if(!t)throw new Error("roomCode is required");this.debug&&console.log("[socketio] Joining room:",t),this.sio.emit("enter",{room_code:t}),this.rooms.add(t),this.extendedEvents.roomJoined&&this.extendedEvents.roomJoined(t)}},{key:"leave",value:function(t){if(!t)throw new Error("roomCode is required");this.debug&&console.log("[socketio] Leaving room:",t),this.sio.emit("leave",{room_code:t}),this.rooms.delete(t),this.extendedEvents.roomLeft&&this.extendedEvents.roomLeft(t)}},{key:"getRooms",value:function(){return Array.from(this.rooms)}},{key:"emit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("event name is required");this.debug&&console.log("[socketio] Emitting event:",t,e),this.sio.emit(t,e)}},{key:"bind",value:function(t){if(!t||"object"!==Ku(t))throw new Error("nameCallbacks must be an object");for(var e=0,n=Object.entries(t);e<n.length;e++){var r=Hu(n[e],2),o=r[0],i=r[1];if("function"!=typeof i)throw new Error('Callback for event "'.concat(o,'" must be a function'));["connected","disconnected","error","roomJoined","roomLeft"].includes(o)?this.extendedEvents[o]=i:this.sio.on(o,i)}}},{key:"removeAllListeners",value:function(){this.sio.removeAllListeners(),this.extendedEvents={},this.rooms.clear()}},{key:"isConnected",value:function(){return this.sio.connected}}])}();function ns(t,e,n,r,o){"none"!==r&&(t.style.display=r),t.style.animation="".concat(e," ").concat(n),t.addEventListener("animationend",function n(i){i.animationName===e&&("none"===r&&(t.style.display=r),t.removeEventListener("animationend",n),o&&o())})}function rs(t){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(t)}function os(){var t=ls(),e=t.m(os),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,is(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(os=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new hs(t,e)},AsyncIterator:cs,async:function(t,e,n,o,a){return(r(e)?ss:us)(i(t),e,n,o,a)},keys:as,values:is}})()}function is(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(rs(t)+" is not iterable")}function as(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function us(t,e,n,r,o){var i=ss(t,e,n,r,o);return i.next().then(function(t){return t.done?t.value:i.next()})}function ss(t,e,n,r,o){return new cs(ls().w(t,e,n,r),o||Promise)}function cs(t,e){function n(r,o,i,a){try{var u=t[r](o),s=u.value;return s instanceof hs?e.resolve(s.v).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):e.resolve(s).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,a)})}catch(t){a(t)}}var r;this.next||(fs(cs.prototype),fs(cs.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),fs(this,"_invoke",function(t,o,i){function a(){return new e(function(e,r){n(t,i,e,r)})}return r=r?r.then(a,a):a()},!0)}function ls(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return fs(c,"_invoke",function(n,r,o){var i,u,s,c=0,l=o||[],f=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,u=0,s=t,h.n=n,a}};function p(n,r){for(u=n,s=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=h.p,y=i[2];n>3?(o=y===r)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(u=0,h.v=r,h.n=i[1]):p<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,h.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,y),u=l,s=y;(e=u<2?t:s)||!f;){i||(u?u<3?(u>1&&(h.n=-1),p(u,s)):h.n=s:h.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=h.n<0)?s:n.call(r,h))!==a)break}catch(e){i=t,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(fs(e={},r,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,fs(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=c,fs(f,"constructor",c),fs(c,"constructor",s),s.displayName="GeneratorFunction",fs(c,o,"GeneratorFunction"),fs(f),fs(f,o,"Generator"),fs(f,r,function(){return this}),fs(f,"toString",function(){return"[object Generator]"}),(ls=function(){return{w:i,m:h}})()}function fs(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}fs=function(t,e,n,r){function i(e,n){fs(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},fs(t,e,n,r)}function hs(t,e){this.v=t,this.k=e}function ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ys(r.key),r)}}function ys(t){var e=function(t){if("object"!=rs(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=rs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==rs(e)?e:e+""}function vs(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}function ds(t){return ms.apply(this,arguments)}function ms(){return ms=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){vs(i,r,o,a,u,"next",t)}function u(t){vs(i,r,o,a,u,"throw",t)}a(void 0)})}}(os().mark(function t(e){var n,r,o,i,a=arguments;return os().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=a.length>1&&void 0!==a[1]?a[1]:{}).top,o=n.left,!bs.has(e)){t.next=7;break}bs.get(e).update_target({top:r,left:o}),t.next=10;break;case 7:return i=new gs(e,r,o),bs.set(e,i),t.abrupt("return",new Promise(function(t){i.onend=t,i.start()}));case 10:case"end":return t.stop()}},t)})),ms.apply(this,arguments)}var bs=new WeakMap,gs=function(){return function(t,e){return e&&ps(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.target={top:n,left:r},this.startContext={startTop:e.scrollTop,startLeft:e.scrollLeft},this.startTime=performance.now(),this.onend=null,this.duration=200},[{key:"update_target",value:function(t){var e=t.top,n=t.left;void 0!==e&&(this.target.top=e),void 0!==n&&(this.target.left=n),this.startContext={startTop:this.container.scrollTop,startLeft:this.container.scrollLeft},this.startTime=performance.now()}},{key:"frame",value:function(){var t=performance.now()-this.startTime,e=this.target,n=e.top,r=e.left,o=this.startContext,i=o.startTop,a=o.startLeft,u="easeInOutQuad",s=null!=n?n:this.container.scrollTop,c=null!=r?r:this.container.scrollLeft;t<this.duration?(void 0!==n&&(this.container.scrollTop=ws[u](t,i,s-i,this.duration)),void 0!==r&&(this.container.scrollLeft=ws[u](t,a,c-a,this.duration)),requestAnimationFrame(this.frame.bind(this))):(void 0!==n&&(this.container.scrollTop=s),void 0!==r&&(this.container.scrollLeft=c),bs.delete(this.container),this.onend&&this.onend())}},{key:"start",value:function(){requestAnimationFrame(this.frame.bind(this))}}])}(),ws={easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInQuad:function(t,e,n,r){return n*((t/=r)*t)+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeBounce:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}},ks=document.createElement("canvas");ks.width=500,ks.height=500;var Ss,Os=ks.getContext("2d",{willReadFrequently:!0});function xs(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(n,r){var o=new Image;e&&(o.crossOrigin="Anonymous");var i,a,u=-4,s={r:0,g:0,b:0},c=0;o.src=t,o.onload=function(){if(Os.drawImage(o,0,0,500,500),!Os)return n();try{i=Os.getImageData(0,0,500,500)}catch(t){return console.log("error",t),n()}for(a=i.data.length;(u+=120)<a;)++c,s.r+=i.data[u],s.g+=i.data[u+1],s.b+=i.data[u+2];o.remove(),s.r=~~(s.r/c),s.g=~~(s.g/c),s.b=~~(s.b/c);var t=s.r/=255,e=s.g/=255,r=s.b/=255,l=Math.min(t,e,r),f=Math.max(t,e,r),h=f-l,p=0,y=0,v=0;p=0==h?0:f==t?(e-r)/h%6:f==e?(r-t)/h+2:(t-e)/h+4,(p=Math.round(60*p))<0&&(p+=360),v=(f+l)/2,y=(100*(y=0==h?0:h/(1-Math.abs(2*v-1)))).toFixed(1),v=(100*v).toFixed(1),y<3&&(p=200),n({h:p,s:y,l:v})}})}function js(){return navigator.maxTouchPoints>0}var Es={forQuery:Si,setProps:Oi,delay:fo,instant:po,clearDelay:ho,delayChain:co,breakDelayChain:lo,debounce:yo,addEventListeners:Oo,removeEventListeners:xo};function Ps(t){return new Proxy(Es,{get:function(e,n){if(e.hasOwnProperty(n)){var r=e[n];return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r.apply(void 0,[t].concat(n))}}throw new Error("zyX().".concat(n," is not a function"))}})}lr(Ss||(Ss=function(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(["\n    ph {\n        display: none;\n    }\n"])));export{Qr as AsynConstructor,Hr as AsyncWorker,vr as Cookies,ht as Deque,ai as FocusController,ui as Focusable,no as LegacyAsynConstructor,Ct as LiveDeque,he as LiveDomList,Mt as LiveList,It as LiveVar,ds as ScrollTo,ft as WeakRefSet,Qo as ZyXAudio,So as ZyXEvents,Qe as ZyXHTML,es as ZyXIO,ba as ZyXInput,Oo as addEventListeners,ro as asyncPool,lo as breakDelayChain,xs as calculateDominantColor,jo as clamp,_ as clearAllSelections,ho as clearDelay,lr as css,zn as dataToBlob,yo as debounce,Ps as default,fo as delay,co as delayChain,Fn as deleteData,ns as displayAnimation,En as fetchCSS,Nn as fetchJSON,Yn as fetchWithTimeout,A as forEachShadowRoot,Si as forQuery,T as getAllShadowRoots,xn as getData,u as getTopLevelElements,Pn as grabBlob,_i as hexToHSL,Ai as hexToRGB,Ti as hslCssKeys,Mi as hslToHex,on as html,Bn as injectScript,s as insertAfter,po as instant,Lo as isEven,Do as isFloat,Ro as isInteger,js as isMobile,No as isOdd,Eo as lerp,An as loadImg,tn as makePlaceable,Po as mapRange,xi as placeSafely,Ei as pointerEventPathContains,Pi as pointerEventPathContainsMatching,On as postData,jn as postForm,Dn as putData,M as queryAllRoots,Io as randomFloat,Co as randomInt,xo as removeEventListeners,_o as roundTo,Mo as roundToDecimals,Ci as sS,To as scaleFromOffset,Ao as scaleToOffset,Li as seedRandom,Ii as seedShuffle,Oi as setProps,Ni as shorthandNumber,Mn as shrinkImage,Ur as sleep,Ln as splitFilename,cr as zyxcss};